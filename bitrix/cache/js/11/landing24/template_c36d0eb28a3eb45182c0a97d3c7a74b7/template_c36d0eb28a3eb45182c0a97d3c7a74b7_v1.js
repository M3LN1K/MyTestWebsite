
; /* Start:"a:4:{s:4:"full";s:87:"/bitrix/components/bitrix/landing.start/templates/.default/script.min.js?17624282231426";s:6:"source";s:68:"/bitrix/components/bitrix/landing.start/templates/.default/script.js";s:3:"min";s:72:"/bitrix/components/bitrix/landing.start/templates/.default/script.min.js";s:3:"map";s:72:"/bitrix/components/bitrix/landing.start/templates/.default/script.map.js";}"*/
(function(){"use strict";BX.namespace("BX.Landing");BX.Landing.PaymentAlert=function(n){if(typeof n.nodes==="undefined"){return}for(var t=0,e=n.nodes.length;t<e;t++){BX.bind(n.nodes[t],"click",(function(t){BX.Landing.PaymentAlertShow(n);BX.PreventDefault(t)}))}};BX.Landing.PaymentAlertShow=function(n){var t=BX.Landing.UI.Tool.ActionDialog.getInstance();var e=t.show({title:n.title?n.title:BX.message("LANDING_TPL_JS_PAY_TARIFF_TITLE"),content:'<div class="landing-payrate-popup-content"><span class="landing-payrate-popup-text">'+n.message+"</span></div>",confirm:BX.message("LANDING_TPL_JS_PAY_TARIFF"),contentColor:"grey",type:n.type||null});e.then((function(){top.window.location.href="/bitrix/tools/landing/ajax.php?redirect=upgrade"}),(function(){}))};BX.Landing.AlertShow=function(n){var t=BX.Landing.UI.Tool.ActionDialog.getInstance();var e=t.show({title:n.title?n.title:null,content:n.message,contentColor:"grey",type:n.type||null});e.then((function(){top.window.location.href="/bitrix/tools/landing/ajax.php?redirect=upgrade"}),(function(){}))};BX.ready((function(){var n=document.querySelectorAll(".bitrix24-metrika");if(!n){return}if(typeof BX.Landing.Metrika==="undefined"){return}var t=new BX.Landing.Metrika(true);for(var e=0,i=n.length;e<i;e++){BX.bind(n[e],"click",function(n){t.sendLabel(null,BX.data(this,"metrika24"),BX.data(this,"metrika24value"))}.bind(n[e]))}}))})();
/* End */
;
; /* Start:"a:4:{s:4:"full";s:96:"/bitrix/components/bitrix/ui.sidepanel.wrapper/templates/.default/template.min.js?17624282505071";s:6:"source";s:77:"/bitrix/components/bitrix/ui.sidepanel.wrapper/templates/.default/template.js";s:3:"min";s:81:"/bitrix/components/bitrix/ui.sidepanel.wrapper/templates/.default/template.min.js";s:3:"map";s:81:"/bitrix/components/bitrix/ui.sidepanel.wrapper/templates/.default/template.map.js";}"*/
(function(){BX.namespace("BX.UI.SidePanel");if(BX.UI.SidePanel.Wrapper){return}function t(t){}t.prototype.init=function(t){this.container=BX(t.containerId);this.isCloseAfterSave=t.isCloseAfterSave||false;this.isReloadGridAfterSave=t.isReloadGridAfterSave||false;this.isReloadPageAfterSave=t.isReloadPageAfterSave||false;this.skipNotification=t.skipNotification||false;this.useLinkTargetsReplacing=t.useLinkTargetsReplacing||false;this.notification=t.notification||{};var e=BX.SidePanel.Instance.getPreviousSlider(BX.SidePanel.Instance.getSliderByWindow(window));this.parentWindow=e?e.getWindow():top;this.initEditableTitle(t);if(this.isReloadGridAfterSave){if(this.getParam("reloadGridAfterSave")){this.reloadGridOnParentPage()}this.setParam("reloadGridAfterSave",true)}if(this.isCloseAfterSave){if(this.getParam("closeAfterSave")){var i;if(this.notification.content&&top.BX&&!this.getParam("skipNotification")){i=function(){top.BX.loadExt("ui.notification").then(function(){top.BX.UI.Notification.Center.notify(this.notification)}.bind(this))}.bind(this)}else if(this.isReloadPageAfterSave){i=function(){this.parentWindow.location.reload()}.bind(this)}BX.SidePanel.Instance.close(false,i)}if(this.skipNotification){this.setParam("skipNotification",true)}this.setParam("closeAfterSave",true)}if(this.useLinkTargetsReplacing){this.initLinkTargetsReplacing()}};t.prototype.initEditableTitle=function(t){if(!t.title||!t.title.selector||!t.title.defaultTitle){return}var i=this.container.querySelector(t.title.selector);if(!i){return}var n=i.querySelector('input[type="text"]');if(!n){return}i.style.display="none";e.init({dataContainer:i,dataNode:n,defaultTitle:t.title.defaultTitle})};t.prototype.initLinkTargetsReplacing=function(){this.replaceLinkTargets();if(!window.MutationObserver){return}var t=new MutationObserver(this.domMutationHandler.bind(this));t.observe(this.container,{childList:true,subtree:true})};t.prototype.domMutationHandler=function(t){t.forEach(function(t){for(var e=0;e<t.addedNodes.length;++e){var i=t.addedNodes.item(e);if(!i){continue}this.replaceLinkTargets(i)}},this)};t.prototype.replaceLinkTargets=function(t){if(!t){t=document.body}var e=[];if(t.tagName==="A"){e=[t]}else if(t.nodeName!=="#text"){e=BX.convert.nodeListToArray(t.querySelectorAll("a"))}if(e.length===0){return}BX.convert.nodeListToArray(e).filter(function(t){return!t.target}).forEach(function(t){t.target="_top"})};t.prototype.setParam=function(t,e){var i=BX.SidePanel.Instance.getSliderByWindow(window);if(i){i.getData().set(t,e)}};t.prototype.getParam=function(t){var e=BX.SidePanel.Instance.getSliderByWindow(window);if(e){return e.getData().get(t)}return undefined};t.prototype.removeParam=function(t){var e=BX.SidePanel.Instance.getSliderByWindow(window);if(e){e.getData().delete(t)}};t.prototype.reloadGridOnParentPage=function(){var t=this.parentWindow;var e=BX.type.isString(this.isReloadGridAfterSave)?this.isReloadGridAfterSave:null;if(!t.BX.Main||!t.BX.Main.gridManager){return}if(e==="all"){t.BX.Main.gridManager.data.forEach(function(t){t.instance.reload()});return}if(!e&&t.BX.Main.gridManager.data){var i=t.BX.Main.gridManager.data;e=i.length>0?i[0].id:null}if(!e){return}var n=t.BX.Main.gridManager.getById(e);if(!n){return}n.instance.reload()};var e={isInit:false,init:function(t){this.dataNode=t.dataNode;this.titleNode=document.querySelector(".ui-side-panel-wrap-title-name");this.inputNode=document.querySelector(".ui-side-panel-wrap-title-input");this.buttonNode=document.querySelector(".ui-side-panel-wrap-title-edit-button");this.initialTitle=this.titleNode.textContent;this.defaultTitle=t.defaultTitle;BX.bind(this.dataNode,"bxchange",this.onDataNodeChange.bind(this));BX.bind(this.buttonNode,"click",this.startEdit.bind(this));BX.bind(this.inputNode,"keyup",this.onKeyUp.bind(this));BX.bind(this.inputNode,"blur",this.endEdit.bind(this));this.isInit=true;if(!t.disabled){this.enable()}if(!this.dataNode.value){this.dataNode.value=this.defaultTitle}},enable:function(t){t=t||false;if(!this.isInit){return}this.changeDisplay(this.buttonNode,!t);this.titleNode.textContent=!t?this.dataNode.value?this.dataNode.value:this.defaultTitle:this.initialTitle},disable:function(){this.enable(true)},onDataNodeChange:function(){this.titleNode.textContent=this.dataNode.value},onKeyUp:function(t){t=t||window.event;if(t.keyCode===10||t.keyCode===13){this.endEdit();t.preventDefault();return false}},getTitle:function(){var t=this.dataNode.value;if(!t){t=this.titleNode.textContent}return t},startEdit:function(){this.inputNode.value=this.getTitle();this.changeDisplay(this.titleNode,false);this.changeDisplay(this.buttonNode,false);this.changeDisplay(this.inputNode,true);this.inputNode.focus()},endEdit:function(){this.dataNode.value=this.inputNode.value;this.titleNode.textContent=this.inputNode.value;this.changeDisplay(this.inputNode,false);this.changeDisplay(this.buttonNode,true);this.changeDisplay(this.titleNode,true)},changeDisplay:function(t,e){return t.style.display=e?"":"none"}};BX.UI.SidePanel.Wrapper=new t})();
/* End */
;
; /* Start:"a:4:{s:4:"full";s:101:"/bitrix/components/bitrix/ui.toolbar/templates/.default/dist/ui.toolbar.bundle.min.js?176242922115169";s:6:"source";s:81:"/bitrix/components/bitrix/ui.toolbar/templates/.default/dist/ui.toolbar.bundle.js";s:3:"min";s:85:"/bitrix/components/bitrix/ui.toolbar/templates/.default/dist/ui.toolbar.bundle.min.js";s:3:"map";s:85:"/bitrix/components/bitrix/ui.toolbar/templates/.default/dist/ui.toolbar.bundle.map.js";}"*/
this.BX=this.BX||{};(function(e,t,i,s){"use strict";const a={beforeStartEditing:"beforeStartEditing",startEditing:"startEditing",finishEditing:"finishEditing"};var o=babelHelpers.classPrivateFieldLooseKey("initialTitle");var l=babelHelpers.classPrivateFieldLooseKey("defaultTitle");var r=babelHelpers.classPrivateFieldLooseKey("toolbarNode");var n=babelHelpers.classPrivateFieldLooseKey("titleNode");var d=babelHelpers.classPrivateFieldLooseKey("inputNode");var b=babelHelpers.classPrivateFieldLooseKey("editTitleButtonNode");var h=babelHelpers.classPrivateFieldLooseKey("editTitleResultButtonsContainer");var c=babelHelpers.classPrivateFieldLooseKey("titleIconButtonsContainer");var u=babelHelpers.classPrivateFieldLooseKey("saveTitleButton");var p=babelHelpers.classPrivateFieldLooseKey("cancelTitleEditButton");var v=babelHelpers.classPrivateFieldLooseKey("isInit");var f=babelHelpers.classPrivateFieldLooseKey("init");class g extends i.Event.EventEmitter{constructor(e){super(e);Object.defineProperty(this,f,{value:B});Object.defineProperty(this,o,{writable:true,value:void 0});Object.defineProperty(this,l,{writable:true,value:void 0});Object.defineProperty(this,r,{writable:true,value:void 0});Object.defineProperty(this,n,{writable:true,value:void 0});Object.defineProperty(this,d,{writable:true,value:void 0});Object.defineProperty(this,b,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,c,{writable:true,value:void 0});Object.defineProperty(this,u,{writable:true,value:void 0});Object.defineProperty(this,p,{writable:true,value:void 0});Object.defineProperty(this,v,{writable:true,value:false});this.setEventNamespace("UI.Toolbar.TitleEditor");babelHelpers.classPrivateFieldLooseBase(this,f)[f](e)}enable(e=false){if(!babelHelpers.classPrivateFieldLooseBase(this,v)[v]){return}this.changeDisplay(babelHelpers.classPrivateFieldLooseBase(this,b)[b],e===false);babelHelpers.classPrivateFieldLooseBase(this,n)[n].textContent=babelHelpers.classPrivateFieldLooseBase(this,o)[o]}disable(){this.enable(true)}onKeyUp(e){if(e.key==="Enter"){this.finishEdit();e.preventDefault();return false}return true}startEdit(){const e=new i.Event.BaseEvent;this.emit(a.beforeStartEditing,e);if(e.isDefaultPrevented()){return}babelHelpers.classPrivateFieldLooseBase(this,d)[d].value=babelHelpers.classPrivateFieldLooseBase(this,n)[n].textContent;this.changeDisplay(babelHelpers.classPrivateFieldLooseBase(this,n)[n],false);this.changeDisplay(babelHelpers.classPrivateFieldLooseBase(this,b)[b],false);this.changeDisplay(babelHelpers.classPrivateFieldLooseBase(this,d)[d],true);this.changeDisplay(babelHelpers.classPrivateFieldLooseBase(this,c)[c],false);i.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,h)[h],"--show");i.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,r)[r],"--title-editing");babelHelpers.classPrivateFieldLooseBase(this,d)[d].focus();this.emit(a.startEditing)}finishEdit(){babelHelpers.classPrivateFieldLooseBase(this,n)[n].textContent=babelHelpers.classPrivateFieldLooseBase(this,d)[d].value;this.changeDisplay(babelHelpers.classPrivateFieldLooseBase(this,d)[d],false);this.changeDisplay(babelHelpers.classPrivateFieldLooseBase(this,b)[b],true);this.changeDisplay(babelHelpers.classPrivateFieldLooseBase(this,n)[n],true);this.changeDisplay(babelHelpers.classPrivateFieldLooseBase(this,c)[c],true);i.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,h)[h],"--show");i.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,r)[r],"--title-editing");this.emit(a.finishEditing,{updatedTitle:babelHelpers.classPrivateFieldLooseBase(this,d)[d].value})}cancelEdit(){this.changeDisplay(babelHelpers.classPrivateFieldLooseBase(this,d)[d],false);this.changeDisplay(babelHelpers.classPrivateFieldLooseBase(this,b)[b],true);this.changeDisplay(babelHelpers.classPrivateFieldLooseBase(this,n)[n],true);this.changeDisplay(babelHelpers.classPrivateFieldLooseBase(this,c)[c],true);i.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,h)[h],"--show");i.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,r)[r],"--title-editing")}changeDisplay(e,t){const s=t?"":"none";i.Dom.style(e,"display",s);return s}}function B(e){babelHelpers.classPrivateFieldLooseBase(this,r)[r]=document.getElementById("uiToolbarContainer");babelHelpers.classPrivateFieldLooseBase(this,n)[n]=document.querySelector(".ui-wrap-title-name");babelHelpers.classPrivateFieldLooseBase(this,d)[d]=document.querySelector(".ui-toolbar-edit-title-input");babelHelpers.classPrivateFieldLooseBase(this,b)[b]=document.querySelector(".ui-toolbar-edit-title-button");babelHelpers.classPrivateFieldLooseBase(this,h)[h]=document.getElementById("ui-toolbar-title-edit-result-buttons");babelHelpers.classPrivateFieldLooseBase(this,u)[u]=document.getElementById("ui-toolbar-save-title-button");babelHelpers.classPrivateFieldLooseBase(this,p)[p]=document.getElementById("ui-toolbar-cancel-title-edit-button");babelHelpers.classPrivateFieldLooseBase(this,c)[c]=document.getElementById("ui-toolbar-title-item-box-buttons");babelHelpers.classPrivateFieldLooseBase(this,o)[o]=babelHelpers.classPrivateFieldLooseBase(this,n)[n].textContent;babelHelpers.classPrivateFieldLooseBase(this,l)[l]=e.defaultTitle;i.bind(babelHelpers.classPrivateFieldLooseBase(this,b)[b],"click",this.startEdit.bind(this));i.bind(babelHelpers.classPrivateFieldLooseBase(this,d)[d],"keyup",this.onKeyUp.bind(this));i.bind(babelHelpers.classPrivateFieldLooseBase(this,d)[d],"blur",(e=>{if(e.relatedTarget===babelHelpers.classPrivateFieldLooseBase(this,p)[p]){this.cancelEdit();return}this.finishEdit()}));i.bind(babelHelpers.classPrivateFieldLooseBase(this,u)[u],"click",this.finishEdit.bind(this));i.bind(babelHelpers.classPrivateFieldLooseBase(this,p)[p],"click",this.cancelEdit.bind(this));babelHelpers.classPrivateFieldLooseBase(this,v)[v]=true;if(!e.disabled){this.enable()}}class P{constructor(){this.initialized=false;this.currentPageInMenu=false;this.starContNode=null;i.ready((()=>this.init()));i.Event.EventEmitter.subscribe("onFrameDataProcessed",(()=>{this.init()}))}init(){this.starContNode=document.getElementById("uiToolbarStar");if(!this.starContNode||this.initialized){return false}this.initialized=true;let e=i.Dom.attr(this.starContNode,"data-bx-url");if(!i.Type.isStringFilled(e)){e=document.location.pathname+document.location.search}e=i.Uri.removeParam(e,["IFRAME","IFRAME_TYPE"]);top.BX.addCustomEvent("BX.Bitrix24.LeftMenuClass:onSendMenuItemData",(e=>{this.processMenuItemData(e)}));top.BX.addCustomEvent("BX.Bitrix24.LeftMenuClass:onStandardItemChangedSuccess",(e=>{this.onStandardItemChangedSuccess(e)}));top.BX.onCustomEvent("UI.Toolbar:onRequestMenuItemData",[{currentFullPath:e,context:window}]);return true}processMenuItemData(e){if(e.context&&e.context!==window){return}this.currentPageInMenu=e.currentPageInMenu;if(i.Type.isObjectLike(e.currentPageInMenu)){i.Dom.addClass(this.starContNode,"ui-toolbar-star-active")}this.starContNode.title=i.Loc.getMessage(i.Dom.hasClass(this.starContNode,"ui-toolbar-star-active")?"UI_TOOLBAR_DELETE_PAGE_FROM_LEFT_MENU":"UI_TOOLBAR_ADD_PAGE_TO_LEFT_MENU");if(i.Type.isDomNode(this.currentPageInMenu)&&i.Dom.attr(this.currentPageInMenu,"data-type")!=="standard"){this.starContNode.title=i.Loc.getMessage("UI_TOOLBAR_STAR_TITLE_DEFAULT_PAGE");i.bind(this.starContNode,"click",(()=>{this.showMessage(i.Loc.getMessage("UI_TOOLBAR_STAR_TITLE_DEFAULT_PAGE_DELETE_ERROR"))}));return true}i.bind(this.starContNode,"click",(()=>{var e;let t=((e=document.getElementById("pagetitle"))==null?void 0:e.innerText)||"";const s=this.starContNode.getAttribute("data-bx-title-template");if(i.Type.isStringFilled(s)){t=s.replace(/#page_title#/i,t)}let a=this.starContNode.getAttribute("data-bx-url");if(!i.Type.isStringFilled(a)){a=document.location.pathname+document.location.search}a=i.Uri.removeParam(a,["IFRAME","IFRAME_TYPE"]);top.BX.onCustomEvent("UI.Toolbar:onStarClick",[{isActive:i.Dom.hasClass(this.starContNode,"ui-toolbar-star-active"),context:window,pageTitle:t,pageLink:a}])}))}onStandardItemChangedSuccess(e){if(!i.Type.isBoolean(e.isActive)||!this.starContNode||e.context&&e.context!==window){return}if(e.isActive){this.showMessage(i.Loc.getMessage("UI_TOOLBAR_ITEM_WAS_ADDED_TO_LEFT"));this.starContNode.title=i.Loc.getMessage("UI_TOOLBAR_DELETE_PAGE_FROM_LEFT_MENU");i.Dom.addClass(this.starContNode,"ui-toolbar-star-active")}else{this.showMessage(i.Loc.getMessage("UI_TOOLBAR_ITEM_WAS_DELETED_FROM_LEFT"));this.starContNode.title=i.Loc.getMessage("UI_TOOLBAR_ADD_PAGE_TO_LEFT_MENU");i.Dom.removeClass(this.starContNode,"ui-toolbar-star-active")}}showMessage(e){let t=s.PopupWindowManager.create("left-menu-message",this.starContNode,{content:e,darkMode:true,offsetTop:2,offsetLeft:0,angle:true,autoHide:true,events:{onPopupClose:()=>{if(t){t.destroy();t=null}}}});t.show();setTimeout((()=>{if(t){t.destroy();t=null}}),3e3)}}const E={beforeStartEditing:"beforeStartEditing",startEditing:"startEditing",finishEditing:"finishEditing"};var L=babelHelpers.classPrivateFieldLooseKey("copyLinkButton");var F=babelHelpers.classPrivateFieldLooseKey("titleEditor");var m=babelHelpers.classPrivateFieldLooseKey("getClickOnCopyLinkButtonHandler");var y=babelHelpers.classPrivateFieldLooseKey("initTitleEditor");class T extends i.Event.EventEmitter{constructor(e={}){var s;super(e);Object.defineProperty(this,y,{value:I});Object.defineProperty(this,m,{value:C});Object.defineProperty(this,L,{writable:true,value:void 0});Object.defineProperty(this,F,{writable:true,value:void 0});this.setEventNamespace("BX.UI.Toolbar");this.titleMinWidth=i.Type.isNumber(e.titleMinWidth)?e.titleMinWidth:158;this.titleMaxWidth=i.Type.isNumber(e.titleMaxWidth)?e.titleMaxWidth:"";this.filterMinWidth=i.Type.isNumber(e.filterMinWidth)?e.filterMinWidth:300;this.filterMaxWidth=i.Type.isNumber(e.filterMaxWidth)?e.filterMaxWidth:748;this.id=i.Type.isStringFilled(e.id)?e.id:i.Text.getRandom();this.toolbarContainer=e.target;if(!i.Type.isDomNode(this.toolbarContainer)){throw new Error('BX.UI.Toolbar: "target" parameter is required.')}this.titleContainer=this.toolbarContainer.querySelector(".ui-toolbar-title-box");this.filterContainer=this.toolbarContainer.querySelector(".ui-toolbar-filter-box");this.filterButtons=this.toolbarContainer.querySelector(".ui-toolbar-filter-buttons");this.rightButtons=this.toolbarContainer.querySelector(".ui-toolbar-right-buttons");this.afterTitleButtons=this.toolbarContainer.querySelector(".ui-toolbar-after-title-buttons");babelHelpers.classPrivateFieldLooseBase(this,L)[L]=this.toolbarContainer.querySelector("#ui-toolbar-copy-link-button");if(babelHelpers.classPrivateFieldLooseBase(this,L)[L]){i.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,L)[L],"click",babelHelpers.classPrivateFieldLooseBase(this,m)[m]())}if(!this.filterContainer){this.filterMinWidth=0;this.filterMaxWidth=0}this.buttons=Object.create(null);this.buttonIds=i.Type.isArray(e.buttonIds)?e.buttonIds:[];if(this.buttonIds.length>0){this.buttonIds.forEach((e=>{const s=t.ButtonManager.createByUniqId(e);if(s){const a=s.getContainer();a.originalWidth=a.offsetWidth;if(!s.getIcon()&&!i.Type.isStringFilled(s.getDataSet().toolbarCollapsedIcon)){if(s.getColor()===t.ButtonColor.PRIMARY){s.setDataSet({toolbarCollapsedIcon:t.ButtonIcon.ADD})}else{console.warn(`BX.UI.Toolbar: the button "${s.getText()}" doesn't have an icon for collapsed mode. `+'Use the "data-toolbar-collapsed-icon" attribute.')}}this.buttons[e]=s}else{console.warn(`BX.UI.Toolbar: the button "${e}" wasn't initialized.`)}}))}this.windowWidth=document.body.offsetWidth;this.reduceItemsWidth();i.bind(window,"resize",(()=>{if(this.isWindowIncreased()){this.increaseItemsWidth()}else{this.reduceItemsWidth()}}));if(((s=e.titleEditor)==null?void 0:s.active)===true){babelHelpers.classPrivateFieldLooseBase(this,F)[F]=babelHelpers.classPrivateFieldLooseBase(this,y)[y](e.titleEditor)}}getButtons(){return this.buttons}getButton(e){return e in this.buttons?this.buttons[e]:null}getId(){return this.id}isWindowIncreased(){const e=this.windowWidth;const t=document.body.offsetWidth;this.windowWidth=t;return t>e}getContainerSize(){return this.toolbarContainer.offsetWidth}getInnerTotalWidth(){return this.toolbarContainer.scrollWidth}reduceItemsWidth(){if(this.getInnerTotalWidth()<=this.getContainerSize()){return}const e=Object.values(this.getButtons()).reverse();for(const s of e){var t;if(!s.getIcon()&&!i.Type.isStringFilled((t=s.getDataSet())==null?void 0:t.toolbarCollapsedIcon)){continue}if(s.isCollapsed()){continue}s.setCollapsed(true);if(!s.getIcon()){s.setIcon(s.getDataSet().toolbarCollapsedIcon)}if(this.getInnerTotalWidth()<=this.getContainerSize()){return}}}increaseItemsWidth(){const e=Object.values(this.getButtons());for(const o of e){var t,s,a;const e=o.getContainer();if(!o.isCollapsed()){continue}const l=this.titleMinWidth+this.filterMinWidth+(((t=this.afterTitleButtons)==null?void 0:t.offsetWidth)||0)+(((s=this.filterButtons)==null?void 0:s.offsetWidth)||0)+(((a=this.rightButtons)==null?void 0:a.offsetWidth)||0)+(e.originalWidth-e.offsetWidth);if(l>this.getContainerSize()){break}o.setCollapsed(false);if(o.getIcon()===o.getDataSet().toolbarCollapsedIcon){const e=i.Type.isStringFilled(o.options.icon)?o.options.icon:null;o.setIcon(e)}}}setTitle(e){if(!this.titleContainer){return}const t=this.titleContainer.querySelector("#pagetitle");if(t){t.textContent=e}}getContainer(){return this.toolbarContainer}getRightButtonsContainer(){return this.rightButtons}getTitleEditor(){return babelHelpers.classPrivateFieldLooseBase(this,F)[F]}}function C(){let e=null;return()=>{if(e!==null){return}const t=i.Dom.attr(babelHelpers.classPrivateFieldLooseBase(this,L)[L],"data-link");const a=window.location.href;let o=i.Type.isStringFilled(t)?t:a;o=i.Uri.removeParam(o,["IFRAME","IFRAME_TYPE"]);const l=i.Dom.attr(babelHelpers.classPrivateFieldLooseBase(this,L)[L],"data-message");e=new s.Popup({bindElement:babelHelpers.classPrivateFieldLooseBase(this,L)[L],angle:true,darkMode:true,content:l,autoHide:true,cacheable:false});e.setOffset({offsetLeft:i.Dom.getPosition(babelHelpers.classPrivateFieldLooseBase(this,L)[L]).width/2});e.show();BX.clipboard.copy(o);setTimeout((()=>{e=null}),1e3)}}function I(e){const t=i.Type.isPlainObject(e)?e:{};const s=new g({...t});s.subscribe(a.beforeStartEditing,(e=>{const t=new i.Event.BaseEvent;this.emit(a.beforeStartEditing,t);if(t.isDefaultPrevented()){e.preventDefault()}}));s.subscribe(a.startEditing,(()=>{this.emit(a.startEditing)}));s.subscribe(a.finishEditing,(e=>{const t=e.getData().updatedTitle;this.emit(a.finishEditing,{updatedTitle:t})}));return s}T.TitleEditor=g;T.Star=P;class H{constructor(){this.toolbars={}}create(e){const t=new T(e);if(this.get(t.getId())){throw new Error("The toolbar instance with the same 'id' already exists.")}this.toolbars[t.getId()]=t;return t}getDefaultToolbar(){return this.get("default-toolbar")}get(e){return e in this.toolbars?this.toolbars[e]:null}}const D=new H;e.ToolbarManager=D;e.ToolbarEvents=E;e.Toolbar=T;e.ToolbarStar=P})(this.BX.UI=this.BX.UI||{},BX.UI,BX,BX.Main);
/* End */
;
; /* Start:"a:4:{s:4:"full";s:86:"/bitrix/components/bitrix/landing.demo/templates/.default/script.min.js?17624292674966";s:6:"source";s:67:"/bitrix/components/bitrix/landing.demo/templates/.default/script.js";s:3:"min";s:71:"/bitrix/components/bitrix/landing.demo/templates/.default/script.min.js";s:3:"map";s:71:"/bitrix/components/bitrix/landing.demo/templates/.default/script.map.js";}"*/
(function(){"use strict";BX.namespace("BX.Landing.Component");BX.Landing.Component.Demo=function(){this.wrapper=BX("grid-tile-wrap");this.inner=BX("grid-tile-inner");this.navigation=BX("landing-demo-navigation");this.workarea=BX("workarea-content")||BX("air-workarea-content");this.loader=new BX.Loader;if(!this.wrapper||!this.inner){return}if(!this.navigation){this.navigation=BX.create("div",{props:{id:"landing-demo-navigation",className:"landing-navigation"}});BX.Dom.insertAfter(this.navigation,this.wrapper)}this.isTitleShow=false;this.startHeight=0;this.tileTitleCurrent=null;this.onTileTitleClick=this.onTileTitleClick.bind(this);this.onTileTitleLeave=this.onTileTitleLeave.bind(this);this.onPseudoLinkClick=this.onPseudoLinkClick.bind(this);this.init();top.BX.addCustomEvent(top,"Rest:AppLayout:ApplicationInstall",BX.delegate(this.onAppInstall,this));BX.addCustomEvent("BX.Main.Filter:apply",BX.delegate(this.onFilterApply,this));BX.addCustomEvent("BX.Main.Filter:beforeApply",BX.delegate(this.onBeforeFilterApply,this))};BX.Landing.Component.Demo.CLASS_TILE="landing-item";BX.Landing.Component.Demo.CLASS_DESC_OPEN="landing-item-desc-open";BX.Landing.Component.Demo.CLASS_DESC_DESIGNED="landing-item-designed";BX.Landing.Component.Demo.prototype={init:function(){this.links=[].slice.call(this.inner.querySelectorAll(".landing-template-pseudo-link"));this.bindPseudoLinks();if(BX.Landing.Component.Demo.createEmptyId){const i=BX.UI.ToolbarManager.getDefaultToolbar();if(i){this.linkEmpty=i.getButton(BX.Landing.Component.Demo.createEmptyId);if(this.linkEmpty){BX.Event.bind(this.linkEmpty.button,"click",this.onPseudoLinkClick)}}}this.tiles=[].slice.call(this.inner.querySelectorAll("."+BX.Landing.Component.Demo.CLASS_TILE));this.createTileList();this.bindTileTitles()},reinit:function(){this.unbindPseudoLinks();this.unbindTileTitles();this.tiles=[];this.links=[];this.init()},bindPseudoLinks:function(){this.links.forEach((i=>{if(!BX.Dom.hasClass(i,"landing-item-payment")){BX.Event.bind(i,"click",this.onPseudoLinkClick)}}))},unbindPseudoLinks:function(){this.links.forEach((i=>{if(!BX.Dom.hasClass(i,"landing-item-payment")){BX.Event.unbind(i,"click",this.onPseudoLinkClick)}}))},onPseudoLinkClick:function(i){if(BX.Dom.hasClass(i.target,BX.Landing.Component.Demo.CLASS_DESC_OPEN)||BX.Dom.hasClass(i.target,BX.Landing.Component.Demo.CLASS_DESC_DESIGNED)){return}const t=i.currentTarget;const e=i.currentTarget.dataset.href;BX.SidePanel.Instance.open(e,{allowChangeHistory:false,width:t.dataset.sliderWidth?parseInt(t.dataset.sliderWidth):null,data:{rightBoundary:0},customLeftBoundary:60,events:{onClose:function(i){const t=e.split("?")[0];const n=i.slider.iframeSrc.split("?")[0];if(t!==n&&e.indexOf("frameMode=Y")<0){top.location.reload()}}}})},createTileList:function(){new BX.Landing.TileGrid({wrapper:this.wrapper,inner:this.inner,tiles:this.tiles,sizeSettings:{minWidth:250,maxWidth:281}})},bindTileTitles:function(){this.tiles.forEach((i=>{const t=i.querySelector("."+BX.Landing.Component.Demo.CLASS_DESC_OPEN);if(t){BX.Event.bind(t,"click",this.onTileTitleClick);BX.Event.bind(i,"mouseleave",this.onTileTitleLeave)}}),this)},unbindTileTitles:function(){this.tiles.forEach((i=>{const t=i.querySelector("."+BX.Landing.Component.Demo.CLASS_DESC_OPEN);if(t){BX.Event.unbind(t,"click",this.onTileTitleClick);BX.Event.unbind(t,"mouseleave",this.onTileTitleLeave)}}),this)},onTileTitleClick:function(i){i.preventDefault();const t=i.currentTarget.closest("."+BX.Landing.Component.Demo.CLASS_TILE);this.showTileTitle(t)},onTileTitleLeave:function(i){const t=i.currentTarget.closest("."+BX.Landing.Component.Demo.CLASS_TILE);this.hideTileTitle(t)},showTileTitle:function(i){this.tileTitleCurrent=i.querySelector(".landing-item-desc-inner");const t=i.querySelector(".landing-item-desc-height");i.classList.add("landing-tile-title-show");this.startHeight=BX.style(this.tileTitleCurrent,"height");this.tileTitleCurrent.style.height=t.offsetHeight+"px";this.isTitleShow=true},hideTileTitle:function(i){if(this.isTitleShow){this.tileTitleCurrent.style.height=this.startHeight;setTimeout(function(){i.classList.remove("landing-tile-title-show");this.tileTitleCurrent.style.paddingTop=0;this.tileTitleCurrent.style.marginBottom=0}.bind(this),230);this.isTitleShow=false}},onAppInstall:function(i){window.location.reload()},onBeforeFilterApply:function(){this.loader.show(this.workarea)},onFilterApply:function(i,t,e,n,o){if(o){o.autoResolve=false}BX.ajax({method:"POST",dataType:"html",url:BX.Landing.Component.Demo.ajaxPath,onsuccess:i=>{const t=BX.Dom.create("div",{html:i});this.inner.innerHTML=t.querySelector("#grid-tile-inner").innerHTML;const e=t.querySelector("#landing-demo-navigation");if(e){this.navigation.innerHTML=t.querySelector("#landing-demo-navigation").innerHTML}else{BX.Dom.clean(this.navigation)}this.reinit();n.fulfill();this.loader.hide()}})}}})();BX.ready((function(){new BX.Landing.Component.Demo}));
/* End */
;
; /* Start:"a:4:{s:4:"full";s:87:"/bitrix/components/bitrix/landing.sites/templates/.default/script.min.js?17624282233849";s:6:"source";s:68:"/bitrix/components/bitrix/landing.sites/templates/.default/script.js";s:3:"min";s:72:"/bitrix/components/bitrix/landing.sites/templates/.default/script.min.js";s:3:"map";s:72:"/bitrix/components/bitrix/landing.sites/templates/.default/script.map.js";}"*/
(function(){"use strict";BX.namespace("BX.Landing.TileGrid");BX.Landing.TileGrid=function(i){this.transferPopup="";if(typeof i==="object"){this.siteId=i.siteId;this.siteType=i.siteType;this.wrapper=i.wrapper;this.inner=i.inner;this.tiles=i.tiles;this.minTileWidth=0;this.maxTileWidth=0;this.tileRowLength=0;if(i.sizeSettings){this.minTileWidth=i.sizeSettings.minWidth;this.maxTileWidth=i.sizeSettings.maxWidth}else if(i.tileRowLength){this.tileRowLength=i.tileRowLength}else{this.minTileWidth=250;this.maxTileWidth=350}this.tileRatio=i.tileRatio||1.48;this.maxTileHeight=this.maxTileWidth/this.tileRatio;this.setTileWidth();BX.bind(window,"resize",this.setTileWidth.bind(this));requestAnimationFrame(function(){this.wrapper.classList.add("landing-ui-show")}.bind(this))}};BX.Landing.TileGrid.prototype={setTileWidth:function(){var i=this.getTileCalculating();var e=i.width;var t=i.height;if(this.minTileWidth){e=e<=this.maxTileWidth?i.width:this.maxTileWidth;t=t<=this.maxTileHeight?i.height:this.maxTileHeight}requestAnimationFrame(function(){for(var s=0;s<this.tiles.length;s++){this.tiles[s].style.width=e+"px";this.tiles[s].style.height=t+"px";this.tiles[s].style.marginLeft=i.margin+"px";this.tiles[s].style.marginTop=i.margin+"px"}this.inner.style.marginLeft=i.margin*-1+"px";this.inner.style.marginTop=i.margin*-1+7+"px"}.bind(this))},getTileCalculating:function(){var i=this.wrapper.clientWidth-12;var e=i/100*6;var t=0,s=0;if(this.tileRowLength){s=this.tileRowLength;t=(i-e)/this.tileRowLength}else{t=this.minTileWidth;s=(i-e)/t;if(s>this.tiles.length){t=(i-e)/this.tiles.length;t=t>this.maxTileWidth?this.maxTileWidth:t}else if(s-Math.floor(s)>0){s=Math.floor(s);t=(i-e)/s}}return{width:t,margin:e/(s-1),height:t/this.tileRatio}},action:function(i,e,t,s){var n=BX.create("div",{attrs:{className:"landing-filter-loading-container"}});document.body.appendChild(n);var r=new BX.Loader({size:130,color:"#bfc3c8"});r.show(n);BX.ajax({url:BX.util.add_url_param(window.location.href,{action:i}),method:"POST",data:{data:e,sessid:BX.message("bitrix_sessid"),actionType:"rest",componentName:typeof s!=="undefined"?s:null},dataType:"json",onsuccess:function(i){r.hide();n.classList.add("landing-filter-loading-hide");if(typeof i.type!=="undefined"&&typeof i.result!=="undefined"){if(i.type==="error"){var e=BX.Landing.UI.Tool.ActionDialog.getInstance();if(i.error_type==="payment"&&(i.result[0].error==="PUBLIC_SITE_REACHED"||i.result[0].error==="TOTAL_SITE_REACHED"||i.result[0].error==="PUBLIC_PAGE_REACHED"||i.result[0].error==="PUBLIC_SITE_REACHED_FREE")){if(i.result[0].error==="PUBLIC_PAGE_REACHED"){top.BX.UI.InfoHelper.show("limit_sites_number_page")}else if(i.result[0].error==="PUBLIC_SITE_REACHED_FREE"){top.BX.UI.InfoHelper.show("limit_sites_free")}else{if(this.siteType==="STORE"){top.BX.UI.InfoHelper.show("limit_shop_number")}else if(this.siteType==="KNOWLEDGE"){top.BX.UI.InfoHelper.show("limit_knowledge_base_number_page")}else{top.BX.UI.InfoHelper.show("limit_sites_number")}}}else if(i.result[0].error==="FREE_DOMAIN_IS_NOT_ALLOWED"){top.BX.UI.InfoHelper.show("limit_free_domen")}else if(i.result[0].error==="EMAIL_NOT_CONFIRMED"){top.BX.UI.InfoHelper.show("limit_sites_confirm_email")}else if(i.result[0].error==="PHONE_NOT_CONFIRMED"&&BX.Bitrix24&&BX.Bitrix24.PhoneVerify){BX.Bitrix24.PhoneVerify.getInstance().setEntityType("landing_site").setEntityId(this.siteId).startVerify({mandatory:false})}else if(typeof BX.Landing.PaymentAlertShow!=="undefined"&&i.error_type==="payment"){BX.Landing.PaymentAlertShow({message:i.result[0].error_description})}else{e.show({content:i.result[0].error_description,confirm:"OK",type:"alert"})}}else{if(typeof t==="function"){t(i)}else{if(top.window!==window){window.location.reload()}else{BX.onCustomEvent("BX.Landing.Filter:apply")}}}}}.bind(this)})}}})();
/* End */
;; /* /bitrix/components/bitrix/landing.start/templates/.default/script.min.js?17624282231426*/
; /* /bitrix/components/bitrix/ui.sidepanel.wrapper/templates/.default/template.min.js?17624282505071*/
; /* /bitrix/components/bitrix/ui.toolbar/templates/.default/dist/ui.toolbar.bundle.min.js?176242922115169*/
; /* /bitrix/components/bitrix/landing.demo/templates/.default/script.min.js?17624292674966*/
; /* /bitrix/components/bitrix/landing.sites/templates/.default/script.min.js?17624282233849*/

//# sourceMappingURL=template_c36d0eb28a3eb45182c0a97d3c7a74b7.map.js