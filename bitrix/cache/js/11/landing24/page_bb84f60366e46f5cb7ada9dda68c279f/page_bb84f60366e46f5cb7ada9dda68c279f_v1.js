
; /* Start:"a:4:{s:4:"full";s:95:"/bitrix/components/bitrix/landing.landing_view/templates/.default/script.min.js?176242927933369";s:6:"source";s:75:"/bitrix/components/bitrix/landing.landing_view/templates/.default/script.js";s:3:"min";s:79:"/bitrix/components/bitrix/landing.landing_view/templates/.default/script.min.js";s:3:"map";s:79:"/bitrix/components/bitrix/landing.landing_view/templates/.default/script.map.js";}"*/
(function(){"use strict";BX.namespace("BX.Landing.Component.View");BX.Landing.Component.View=function(e){};BX.Landing.Component.View.instance=null;BX.Landing.Component.View.getInstance=function(){return BX.Landing.Component.View.instance};BX.Landing.Component.View.create=function(e,n){e.topInit=n===true;BX.Landing.Component.View.instance=new BX.Landing.Component.View(e);BX.Landing.Component.View.instance.setNewOptions(e);BX.Landing.Component.View.instance.init(e);return BX.Landing.Component.View.instance};BX.Landing.Component.View.loadEditor=function(){var e=new BX.Landing.Component.View({});var n=BX.Landing.PageObject.getEditorWindow();var t=BX.Landing.PageObject.getRootWindow();e.loadEditor();e.buildTop();n.addEventListener("load",(function(){BX.Landing.UI.Panel.StylePanel.getInstance();t.BX.Landing.UI.Panel.Top.resetInstance();BX.Landing.UI.Panel.Top.getInstance();n.BX.onCustomEvent("Landing.Editor:load")}))};BX.Landing.Component.View.prototype={setNewOptions:function(e){this.type=e.type||"";this.title=e.title||"";this.url=e.url||"";this.isMainpage=e.type==="MAINPAGE";this.isFormEditor=e.specialType==="crm_forms";this.topInit=e.topInit||false;this.active=e.active||false;this.draftMode=e.draftMode||false;this.id=e.id||0;this.siteId=e.siteId||0;this.siteTitle=e.siteTitle||"";this.storeEnabled=e.storeEnabled||false;this.fullPublication=e.fullPublication||false;this.urls=e.urls||{};this.rights=e.rights||{};this.helperFrameOpenUrl=e.helperFrameOpenUrl||null;this.helpCodes=e.helpCodes||{};this.sliderConditions=e.sliderConditions||[];this.sliderFullConditions=e.sliderFullConditions||[];top.window.autoPublicationEnabled=!!e.autoPublicationEnabled;if(!this.rights.public){top.window.autoPublicationEnabled=false}if(this.helperFrameOpenUrl){BX.Helper.init({frameOpenUrl:this.helperFrameOpenUrl,langId:BX.message("LANGUAGE_ID")})}},init:function(e){var n=BX.Landing.Component.View.getInstance();if(typeof BX.rest!=="undefined"&&typeof BX.rest.Marketplace!=="undefined"){BX.rest.Marketplace.bindPageAnchors({})}BX.addCustomEvent(window,"Rest:AppLayout:ApplicationInstall",(function(e){if(e){}}));if(this.topInit){BX.addCustomEvent("SidePanel.Slider:onMessage",(function(e){if(e.getEventId()==="landingEditClose"){setTimeout((function(){window.location.reload()}),1e3)}}))}if(!this.topInit){BX.addCustomEvent("BX.Landing.Block:init",(function(e){if(e.data.requiredUserActionIsShown){BX.bind(e.data.button,"click",(function(){n.onRequiredLinkClick(this)}))}}));var t=[].slice.call(document.querySelectorAll(".landing-required-link"));t.forEach((function(e,t){BX.bind(e,"click",(function(){n.onRequiredLinkClick(this)}))}));var i=BX.Landing.PageObject.getBlocks();for(var a=0,o=i.length;a<o;a++){if(!i[a].isAllowedByTariff()){var s=BX.create("div",{props:{className:"landing-block-expired-overlay"}});i[a].node.appendChild(s)}}}if(this.topInit){var l=BX.Landing.PageObject.getEditorWindow();var r=BX.Landing.PageObject.getRootWindow();l.addEventListener("load",(function(){BX.Landing.UI.Panel.StylePanel.getInstance();r.BX.Landing.UI.Panel.Top.resetInstance();BX.Landing.UI.Panel.Top.getInstance()}))}if(this.topInit){this.buildTop(e);this.initSliders();this.loadEditor();this.hideEditorsPanelHandlers()}},initSliders:function(){if(typeof BX.SidePanel==="undefined"){return}const e=[];for(let n=0,t=this.sliderConditions.length;n<t;n++){e.push(this.sliderConditions[n])}const n=this.sliderFullConditions;if(e.length<=0&&n.length<=0){return}const t=top.BX.clone({rules:[{condition:e,stopParameters:["action","fields%5Bdelete%5D","nav"],options:{allowChangeHistory:false}}]});BX.SidePanel.Instance.bindAnchors(t);const i=top.BX.clone({rules:[{condition:n,options:{allowChangeHistory:false,customLeftBoundary:0,cacheable:false}}]});BX.SidePanel.Instance.bindAnchors(i);const a=document.querySelector(".landing-ui-panel-top-logo-link");if(a&&BX.Dom.hasClass(a,"--mainpage-link")){BX.Event.bind(a,"click",(()=>{event.preventDefault();event.stopPropagation();BX.SidePanel.Instance.close()}))}},loadEditor:function(){var e=document.querySelector(".landing-editor-loader-container");var n=document.querySelector(".landing-editor-required-user-action");if(e){var t=new BX.Loader({offset:{top:"-70px"}});t.show(e);BX.Landing.PageObject.getInstance().view().then((function(t){BX.bindOnce(t,"load",(function(){var i=BX.Landing.Main.getInstance().options.requiredUserAction;if(BX.Landing.Utils.isPlainObject(i)&&!BX.Landing.Utils.isEmpty(i)){if(i.header){n.querySelector("h3").innerText=i.header}if(i.description){n.querySelector("p").innerText=i.description}if(i.href){n.querySelector("a").setAttribute("href",i.href)}if(i.text){n.querySelector("a").innerText=i.text}n.classList.add("landing-ui-user-action-show");document.querySelector(".landing-ui-panel-top-history").classList.add("landing-ui-disabled");document.querySelector(".landing-ui-panel-top-devices").classList.add("landing-ui-disabled")}else{t.classList.add("landing-ui-view-show")}setTimeout((function(){BX.Dom.addClass(e,"landing-ui-hide");setTimeout((function(){BX.remove(e);BX.remove(n)}),200)}),300)}))}))}},hideEditorsPanelHandlers:function(){BX.Landing.PageObject.getInstance().top().then((function(e){e.addEventListener("click",(function(){BX.Landing.PageObject.getInstance().view().then((function(e){if(e.contentWindow.BX){if(e.contentWindow.BX.Landing.Node.Text.currentNode){e.contentWindow.BX.Landing.Node.Text.currentNode.disableEdit()}if(e.contentWindow.BX.Landing.UI.Field.BaseField.currentField){e.contentWindow.BX.Landing.UI.Field.BaseField.currentField.disableEdit()}e.contentWindow.BX.Landing.UI.Panel.EditorPanel.getInstance().hide()}}))}))}))},onRequiredLinkClick:function(e){const n=e.getAttribute("href");if(n.substr(0,1)!=="#"){window.open(n,"_top")}let t=n.substr(1);const i={};let a="";if(t.indexOf("@")>0){a=t.split("@")[1];t=t.split("@")[0]}t=t.toUpperCase();const o="PAGE_URL_LANDING_SETTINGS";i.PAGE=t.replace("PAGE_URL_","");if(typeof landingParams[o]!=="undefined"&&typeof BX.SidePanel!=="undefined"){BX.SidePanel.Instance.open(BX.util.add_url_param(landingParams[o],i)+(a?"#"+a:""),{allowChangeHistory:false})}},buildTop:function(e){this.options=e;this.urls=this.urls||{};for(var n in this.urls){var t=BX("landing-urls-"+n);if(t){t.setAttribute("href",this.urls[n])}}const i=BX("landing-popup-publication-btn");if(i&&i.classList.contains("landing-ui-panel-top-pub-btn-enable")){var a=null;var o=null;i.addEventListener("click",function(){var e=this.id,n;const t=this.getErrorMessageBlock();if(t){const e=BX("landing-popup-publication-error-area").getAttribute("data-error");const i=this.getErrorClickHandler(e);n=BX.create("div",{props:{className:"landing-popup-publication-content 1"},children:[t,BX.create("form",{props:{className:"landing-popup-publication-content-block-gray landing-popup-publication-content-center landing-popup-publication-content-block-gray-disabled"},attrs:{target:"_blank",method:"post",action:this.urls["publicationGlobal"]},children:[BX.create("input",{attrs:{type:"hidden",name:"sessid",value:BX.message("bitrix_sessid")}}),BX.create("div",{props:{className:"landing-popup-publication-content-autopub-btn-container"},children:[BX.create("button",{props:{className:"landing-popup-publication-content-autopub-btn ui-btn ui-btn-round ui-btn-no-caps ui-btn-shadow ui-btn-icon-lock ui-btn-light landing-popup-btn-disabled"},attrs:{type:"submit",disabled:true},text:BX.message("LANDING_PUBLICATION_SUBMIT")}),BX.create("div",{props:{className:"landing-popup-publication-content-autopub-btn-clicker"},events:i?{click:i}:null})]})]})]})}else{var i=BX.create("div",{props:{className:"landing-popup-publication-content-hint"}});n=BX.create("div",{props:{className:"landing-popup-publication-content 2"},children:[BX.create("div",{props:{className:"landing-popup-publication-content-block"},children:[BX.create("label",{props:{className:"landing-popup-publication-content-autopub"},children:[BX.create("span",{props:{className:top.window.autoPublicationEnabled?"landing-popup-publication-content-autopub-icon landing-ui-panel-top-pub-btn-auto":"landing-popup-publication-content-autopub-icon"},html:'<svg class="landing-ui-panel-top-pub-btn-icon" width="25" height="25" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">'+'<path class="landing-ui-panel-top-pub-btn-icon-defs-cloud" fill="#C6CDD3" d="M18.5075 18.8896H10.4177C10.3485 18.8896 10.2799 18.887 10.2119 18.882C8.38363 18.8398 6.91434 17.3271 6.91434 15.4671C6.91487 14.5606 7.27128 13.6914 7.90517 13.0507C8.2301 12.7223 8.61429 12.4678 9.03227 12.2978C9.02528 12.2055 9.02172 12.1123 9.02172 12.0182C9.02229 11.0617 9.39838 10.1446 10.0672 9.46862C10.7361 8.79266 11.6429 8.41324 12.5883 8.41382C13.7992 8.41531 14.8683 9.02804 15.5108 9.96325C15.816 9.85386 16.1444 9.79441 16.4866 9.79459C17.9982 9.79643 19.2397 10.9624 19.3836 12.4534C20.832 12.7729 21.9159 14.0785 21.9146 15.6395C21.9131 17.4385 20.4711 18.8958 18.6932 18.895C18.6309 18.895 18.569 18.8932 18.5075 18.8896Z" fill-rule="evenodd" clip-rule="evenodd"/>\n'+'<path class="landing-ui-panel-top-pub-btn-icon-defs-success" fill="#FFFFFF" d="M7.46967 13.782L9.1093 12.14L12.2726 15.2532L18.6078 8.91091L20.2474 10.5529L12.2881 18.5218L7.46967 13.782Z" fill-rule="evenodd" clip-rule="evenodd"/>\n'+'<path class="landing-ui-panel-top-pub-btn-icon-defs-error" fill="#FF7975" d="M19.8991 9.8334L17.607 7.54126L7.00036 18.1479L9.2925 20.44L19.8991 9.8334Z"/>\n'+'<path class="landing-ui-panel-top-pub-btn-icon-defs-error" fill="#FFFFFF" d="M19.9323 10.0725C20.2657 9.73913 20.2657 9.19867 19.9323 8.86532C19.599 8.53198 19.0585 8.53198 18.7252 8.86532L8.6579 18.9326C8.32455 19.266 8.32455 19.8064 8.6579 20.1398C8.99124 20.4731 9.5317 20.4731 9.86505 20.1398L19.9323 10.0725Z"/>'+"</svg>"}),BX.create("span",{props:{className:"landing-popup-publication-content-autopub-text"},html:BX.message("LANDING_PUBLICATION_AUTO")}),BX.create("input",{props:{className:"landing-popup-publication-content-autopub-input"},attrs:{type:"checkbox",checked:top.window.autoPublicationEnabled},events:{click:function(){top.window.autoPublicationEnabled=this.checked;BX.ajax({url:BX.util.add_url_param(window.location.href,{action:"changeAutoPublication"}),method:"POST",data:{param:this.checked?"Y":"N",sessid:BX.message("bitrix_sessid"),actionType:"json"},dataType:"json",onsuccess:n=>{BX.removeClass(BX("landing-popup-publication-btn"),"landing-ui-panel-top-pub-btn-error");if(this.checked){BX.addClass(BX("landing-popup-publication-btn"),"landing-ui-panel-top-pub-btn-auto");BX.addClass(BX("landing-popup-publication-btn"),"landing-ui-panel-top-pub-btn-loader");BX.addClass(document.body.querySelector(".landing-popup-publication-content-autopub-icon"),"landing-ui-panel-top-pub-btn-auto");BX.Landing.Backend.getInstance().action("Landing::publication",{lid:e}).then((()=>{BX.removeClass(BX("landing-popup-publication-btn"),"landing-ui-panel-top-pub-btn-loader")}))}else{BX.removeClass(BX("landing-popup-publication-btn"),"landing-ui-panel-top-pub-btn-auto");BX.removeClass(document.body.querySelector(".landing-popup-publication-content-autopub-icon"),"landing-ui-panel-top-pub-btn-auto")}}})}}}),BX.create("span",{props:{className:"landing-popup-publication-content-autopub-switcher"},children:[BX.create("span",{props:{className:"landing-popup-publication-content-autopub-switcher-on"},text:BX.message("LANDING_PUBLICATION_AUTO_TOGGLE_ON")}),BX.create("span",{props:{className:"landing-popup-publication-content-autopub-switcher-off"},text:BX.message("LANDING_PUBLICATION_AUTO_TOGGLE_OFF")})]})]})]}),BX.create("div",{props:{className:"landing-popup-publication-content-block-gray landing-popup-publication-content-center landing-popup-publication-content-column",style:{position:"relative"}},children:[i,BX.create("form",{attrs:{target:"_blank",method:"post",action:this.urls["preview"]},children:[BX.create("input",{attrs:{type:"hidden",name:"sessid",value:BX.message("bitrix_sessid")}}),BX.create("button",{props:{className:"landing-popup-publication-content-preview-btn ui-btn ui-btn-round ui-btn-no-caps ui-btn-shadow ui-btn-light"},attrs:{type:"submit"},text:BX.message("LANDING_TPL_PREVIEW_URL")})]}),BX.create("form",{attrs:{target:"_blank",method:"post",action:this.urls["publicationGlobal"]},children:[BX.create("input",{attrs:{type:"hidden",name:"sessid",value:BX.message("bitrix_sessid")}}),BX.create("button",{props:{className:"landing-popup-publication-content-autopub-btn ui-btn ui-btn-round ui-btn-no-caps ui-btn-shadow ui-btn-success"},attrs:{type:"submit"},text:BX.message("LANDING_PUBLICATION_SUBMIT")})]})]})]});i.appendChild(BX.UI.Hint.createNode(BX.message("LANDING_TPL_PREVIEW_URL_HINT")))}if(!a){a=BX.PopupWindowManager.create("landing-popup-publication",BX("landing-popup-publication-btn"),{content:n,autoHide:true,closeIcon:false,titleBar:false,closeByEsc:true,animation:"fading-slide",noAllPaddings:true,angle:{offset:37},minWidth:410,maxWidth:460,background:"#E9EAED",contentBackground:"transparent"})}else{a.setContent(n)}var o=window.addEventListener("blur",(function(){a.close();window.removeEventListener("blur",o)}));a.toggle();BX.PreventDefault()}.bind(this))}if(BX("landing-popup-preview-btn")){var s=null;BX("landing-popup-preview-btn").addEventListener("click",function(){if(!s){if(top.window.autoPublicationEnabled){const e=BX.Landing.Backend.getInstance();if(this.storeEnabled){e.action("Landing::publication",{lid:this.id}).then((()=>e.action("Site::publication",{id:this.siteId})))}else{e.action("Landing::publication",{lid:this.id})}}var e=BX("landing-popup-preview-btn");var n=this.url;var t=BX.create("div");new QRCode(t,{text:n,width:156,height:156,colorLight:"transparent"});s=BX.PopupWindowManager.create("landing-popup-preview",e,{content:BX.create("div",{props:{className:"landing-popup-preview-content"},children:[BX.create("div",{props:{className:"landing-popup-preview-title"},text:BX.message("LANDING_PREVIEW_MOBILE_TITLE")}),BX.create("div",{props:{className:"landing-popup-preview-qr"},children:[t]}),BX.create("div",{props:{className:"landing-popup-preview-text"},text:BX.message("LANDING_PREVIEW_MOBILE_TEXT")}),BX.create("div",{props:{className:"landing-popup-preview-link-container"},children:[BX.create("a",{props:{className:"landing-popup-preview-link ui-btn ui-btn-light-border ui-btn-round"},text:BX.message("LANDING_PREVIEW_MOBILE_NEW_TAB"),attrs:{target:"_blank",href:n}})]}),BX.create("hr"),BX.create("div",{props:{className:"landing-popup-preview-link-row-container"},children:[BX.create("div",{props:{className:"landing-popup-preview-link-target-container"},children:[BX.create("a",{props:{className:"landing-popup-preview-link-target"},text:function(){if(this.isFormEditor){return n}else{return BX.data(e,"domain")}}.bind(this)(),attrs:{target:"_blank",href:n}}),BX.create("input",{props:{className:"landing-popup-preview-link-target-value-hd",type:"text"}})]}),BX.create("div",{children:[BX.create("div",{props:{className:"landing-popup-preview-link-target-copy"},text:BX.message("LANDING_PREVIEW_MOBILE_COPY_LINK"),events:{click:function(){let e=null;const n=document.body.querySelector(".landing-popup-preview-link-target");const t=document.body.querySelector(".landing-popup-preview-link-target-value-hd");if(n){e=n.getAttribute("href");t.value=e;t.select();document.execCommand("copy");BX.UI.Notification.Center.notify({content:BX.message("LANDING_SITE_TILE_POPUP_COPY_LINK_COMPLETE"),autoHideDelay:2e3})}}.bind(this)}})]})]})]}),closeIcon:true,closeByEsc:true,noAllPaddings:true,autoHide:true,animation:"fading-slide",angle:{position:"top",offset:75},minWidth:375,maxWidth:375,contentBackground:"transparent"})}var i=window.addEventListener("blur",(function(){s.close();window.removeEventListener("blur",i)}));var a=BX.data(BX("landing-popup-preview-btn"),"form-verification-required")==="1";if(a&&top.BX.Bitrix24&&BX.Type.isObject(BX.Bitrix24.PhoneVerify)){var o=BX.data(BX("landing-popup-preview-btn"),"form-verification-entity");BX.Bitrix24.PhoneVerify.getInstance().setEntityType("crm_webform").setEntityId(o).startVerify({sliderTitle:BX.Loc.getMessage("LANDING_OPEN_FORM_PHONE_VERIFY_CUSTOM_SLIDER_TITLE"),title:BX.Loc.getMessage("LANDING_OPEN_FORM_PHONE_VERIFY_CUSTOM_TITLE"),description:BX.Loc.getMessage("LANDING_OPEN_FORM_PHONE_VERIFY_CUSTOM_DESCRIPTION"),callback:function(e){if(e){s.toggle()}}})}else{s.toggle()}BX.PreventDefault()}.bind(this))}var l=BX.create("div",{props:{className:"landing-popup-features-content-block landing-popup-features-content-block-settings"},html:'<div class="landing-popup-features-content-block-settings-icon ui-icon ui-icon-service-light-settings"><i></i></div>',events:{click:function(){this.onSettingsClick()}.bind(this)}});if(BX("landing-popup-features-btn")){var r=null;BX("landing-popup-features-btn").addEventListener("click",function(){if(!r){var n=BX("landing-popup-features-btn");r=BX.PopupWindowManager.create("landing-popup-features",n,{content:BX.create("div",{props:{className:"landing-popup-features-content"},children:[this.draftMode?null:BX.create("div",{props:{className:"landing-popup-features-content-block landing-popup-features-content-dflex"},children:[BX.create("div",{html:'<div class="ui-icon landing-popup-features-icon-1 ui-icon-md"><i></i></div>'}),BX.create("div",{style:{flexGrow:1},children:[BX.create("div",{props:{className:"landing-popup-features-content-block-title"},text:BX.message("LANDING_TPL_FEATURES_FORMS_TITLE")}),BX.create("a",{props:{className:"landing-popup-features-content-block-link"},text:BX.message("LANDING_TPL_FEATURES_FORMS_PROMO_LINK"),attrs:{href:"#"},events:{click:function(){if(this.helperFrameOpenUrl){BX.Helper.show("redirect=detail&code="+this.helpCodes["form_general"][0])}BX.PreventDefault()}.bind(this)}})]}),BX.create("div",{children:[BX.create("input",{props:{className:"landing-popup-features-content-block-btn ui-btn ui-btn-xs ui-btn-round ui-btn-no-caps ui-btn-light-border"},attrs:{type:"button",value:BX.message("LANDING_TPL_FEATURES_SETTINGS")},events:{click:function(){var e=BX.Landing.PageObject.getEditorWindow();var n=e.document.querySelector('div[data-subtype="form"]');var t=function(e){if(e){var n=e.getAttribute("id").substr(5);if(n){var t=BX.Landing.PageObject.getBlocks().get(n);t.onShowContentPanel()}}};if(!n){var i=BX.Landing.PageObject.getBlocks();BX.Landing.Main.getInstance().currentBlock=i.length<=2?i[1]:i[i.length-2];var a=BX.Landing.Main.getInstance();var o=BX.Landing.PageObject.getEditorWindow();a.currentArea=o.document.body.querySelector(".landing-main");a.onAddBlock("33.13.form_2_light_no_text").then((function(e){e.setAttribute("data-subtype","form");var n=1e3;var i=0;var a=function(){requestAnimationFrame((function(){if(e.querySelector(".b24-form div[id]")){t(e)}else{if(i<n){i+=1;a()}}}))};a()}));t(n)}else{t(n)}r.close()}.bind(this)}})]})]}),this.draftMode?null:BX.create("div",{props:{className:"landing-popup-features-content-block landing-popup-features-content-dflex"},children:[BX.create("div",{html:'<div class="ui-icon ui-icon ui-icon-service-livechat landing-popup-features-icon-2 ui-icon-md"><i></i></div>'}),BX.create("div",{style:{flexGrow:1},children:[BX.create("div",{props:{className:"landing-popup-features-content-block-title"},text:BX.message("LANDING_TPL_FEATURES_OL_TITLE")}),BX.create("a",{props:{className:"landing-popup-features-content-block-link"},text:BX.message("LANDING_TPL_FEATURES_OL_PROMO_LINK"),attrs:{href:"#"},events:{click:function(){if(this.helperFrameOpenUrl){BX.Helper.show("redirect=detail&code="+this.helpCodes["widget_general"][0])}BX.PreventDefault()}.bind(this)}})]}),BX.create("div",{children:[BX.create("input",{props:{className:"landing-popup-features-content-block-btn ui-btn ui-btn-xs ui-btn-round ui-btn-no-caps ui-btn-light-border"},attrs:{type:"button",value:BX.message("LANDING_TPL_FEATURES_SETTINGS")},events:{click:function(){var e=BX.Landing.Main.getInstance().options.hooks["B24BUTTON"];if(e&&e["ID"]){BX.SidePanel.Instance.open("/crm/button/edit/"+e["ID"]+"/",{allowChangeHistory:false,cacheable:false})}else{BX.SidePanel.Instance.open(BX.message["PAGE_URL_LANDING_SETTINGS"]+"#b24widget",{allowChangeHistory:false,cacheable:false})}}.bind(this)}})]})]}),BX.create("div",{props:{className:"landing-popup-features-content-row"},children:[BX.create("div",{style:{marginRight:"12px",flexGrow:1},props:{className:"landing-popup-features-content-block landing-popup-features-content-dflex"},children:[BX.create("div",{html:'<div class="ui-icon ui-icon-service-light-common landing-popup-features-icon-3"><i></i></div>'}),BX.create("div",{children:[BX.create("div",{props:{className:"landing-ui-panel-top-menu-link-help"},text:BX.message("LANDING_TPL_FEATURES_HELP_TITLE_MSGVER_1")}),BX.create("a",{props:{className:"landing-popup-features-content-block-link"},text:BX.message("LANDING_TPL_FEATURES_HELP_PROMO_LINK_MSGVER_1"),attrs:{href:"#"}})]})],events:{click:function(){BX.UI.Feedback.Form.open({id:"form-editor-feedback-form",portalUri:e.feedback.portalUri,forms:e.feedback.forms,presets:{source:"landing"}})}}}),l]})]}),closeIcon:false,titleBar:false,closeByEsc:true,animation:"fading-slide",noAllPaddings:true,angle:{position:"top",offset:115},minWidth:410,background:"#E9EAED",contentBackground:"transparent"})}var t=window.addEventListener("blur",(function(){r.close();window.removeEventListener("blur",t)}));r.toggle();BX.PreventDefault()}.bind(this))}else{BX.removeClass(l,"landing-popup-features-content-block");var d=BX("landing-panel-settings-kb");if(BX.Type.isDomNode(d)){d.appendChild(l)}}if(BX("landing-design-block-close")){BX("landing-design-block-close").addEventListener("click",(function(){BX.SidePanel.Instance.close()}))}var c=document.querySelector(".landing-form-editor-share-button");if(BX.Type.isDomNode(c)){BX.Event.bind(c,"click",this.onCrmFormShareButtonClick.bind(this))}var p=document.querySelector(".landing-ui-panel-top-menu-link-settings");if(BX.Type.isDomNode(p)){BX.Event.bind(p,"click",this.onSettingsClick.bind(this))}},onCrmFormShareButtonClick:function(e){e.preventDefault();if(!this.formSharePopup){var n=BX.data(document.querySelector("#landing-popup-preview-btn"),"form-verification-required")!=="1";this.formSharePopup=new BX.Landing.Form.SharePopup({bindElement:e.currentTarget,phoneVerified:n,portalUri:this.options.feedback.portalUri,forms:this.options.feedback.forms})}this.formSharePopup.show()},getErrorClickHandler:function(e){if(e==="LANDING_PAYMENT_FAILED_BLOCK"){return function(){var e=BX.Landing.PageObject.getBlocks();for(var n=0,t=e.length;n<t;n++){if(!e[n].isAllowedByTariff()){e[n].getBlockNode().scrollIntoView()}}}}else if(e==="FREE_DOMAIN_IS_NOT_ALLOWED"){return function(){BX.UI.InfoHelper.show("limit_free_domen")}}else if(e==="EMAIL_NOT_CONFIRMED"){return function(){BX.UI.InfoHelper.show("limit_sites_confirm_email")}}else if(e==="PHONE_NOT_CONFIRMED"&&top.BX.Bitrix24&&BX.Type.isObject(top.BX.Bitrix24.PhoneVerify)){return function(){top.BX.Bitrix24.PhoneVerify.getInstance().setEntityType("landing_site").setEntityId(this.siteId).startVerify({mandatory:false,callback:function(e){if(e){top.window.location.reload()}}})}.bind(this)}else if(e==="PUBLIC_PAGE_REACHED"||e==="PUBLIC_SITE_REACHED"||e==="PUBLIC_SITE_REACHED_FREE"||e==="TOTAL_SITE_REACHED"){if(e==="PUBLIC_PAGE_REACHED"){return function(){BX.UI.InfoHelper.show("limit_sites_number_page")}}else if(e==="PUBLIC_SITE_REACHED_FREE"){return function(){BX.UI.InfoHelper.show("limit_sites_free")}}else{if(this.storeEnabled){return function(){BX.UI.InfoHelper.show("limit_shop_number")}}else{return function(){BX.UI.InfoHelper.show("limit_sites_number")}}}}else if(e==="SHOP_1C"){return function(){window.open(BX.message("LANDING_PUBLICATION_SHOP_ERROR_1C_BUTTON_LINK"),"_blank")}}return null},getErrorButtonTitle:function(e){if(e==="LANDING_PAYMENT_FAILED_BLOCK"){return BX.message("LANDING_PUBLICATION_GOTO_BLOCK")}else if(e==="EMAIL_NOT_CONFIRMED"||e==="PHONE_NOT_CONFIRMED"){return BX.message("LANDING_PUBLICATION_CONFIRM_EMAIL")}else if(e==="FREE_DOMAIN_IS_NOT_ALLOWED"||e==="PUBLIC_PAGE_REACHED"||e==="PUBLIC_SITE_REACHED"||e==="TOTAL_SITE_REACHED"||e==="PUBLIC_SITE_REACHED_FREE"){return BX.message("LANDING_PUBLICATION_BUY_RENEW")}else if(e==="SHOP_1C"){return BX.message("LANDING_PUBLICATION_SHOP_ERROR_1C_BUTTON")}},getErrorMessageBlock:function(){if(BX("landing-popup-publication-error-area").hasAttribute("data-error")){var e=BX("landing-popup-publication-error-area").getAttribute("data-error");var n=document.querySelector("#landing-popup-publication-error-area");var t=this.getErrorButtonTitle(e);var i=this.getErrorClickHandler(e);return BX.create("div",{props:{className:"landing-popup-publication-error-content-block landing-popup-features-content-dflex"},children:[BX.create("div",{props:{className:"landing-popup-publication-error-content-icon"},html:'<svg width="36" height="37" viewBox="0 0 36 37" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.189937" d="M18 36.5C27.9411 36.5 36 28.4411 36 18.5C36 8.55887 27.9411 0.5 18 0.5C8.05887 0.5 0 8.55887 0 18.5C0 28.4411 8.05887 36.5 18 36.5Z" fill="white"/><path fill-rule="evenodd" clip-rule="evenodd" d="M23.1036 24.1965H13.238C13.1535 24.1965 13.0699 24.1933 12.987 24.1871C10.7573 24.1352 8.96548 22.2714 8.96548 19.98C8.96613 18.8631 9.40079 17.7923 10.1738 17.003C10.5701 16.5984 11.0386 16.2848 11.5484 16.0754C11.5398 15.9617 11.5355 15.8468 11.5355 15.731C11.5362 14.5525 11.9948 13.4226 12.8105 12.5898C13.6262 11.7571 14.7321 11.2896 15.885 11.2903C17.3618 11.2922 18.6655 12.0471 19.4492 13.1992C19.8212 13.0645 20.2217 12.9912 20.639 12.9914C22.4825 12.9937 23.9966 14.4301 24.1721 16.2671C25.9384 16.6608 27.2602 18.2693 27.2587 20.1924C27.2569 22.4087 25.4983 24.2041 23.3301 24.2032C23.2541 24.2032 23.1786 24.2008 23.1036 24.1965Z" fill="white"/></svg>'}),BX.create("div",{style:{flexGrow:1},children:[BX.create("div",{props:{className:"landing-popup-publication-error-content-block-title"},html:n.getAttribute("data-error-title")||BX.message("LANDING_PUBLICATION_AUTO_OFF")}),BX.create("span",{props:{className:"landing-popup-publication-error-content-block-text"},text:n.getAttribute("data-error-description")})]}),i?BX.create("div",{children:[BX.create("a",{props:{className:"landing-btn-buy-renew ui-btn ui-btn-xs ui-btn-no-caps ui-btn-round"},text:t,events:{click:i}})]}):null]})}else{return false}},onSettingsClick:function(){if(typeof landingParams["PAGE_URL_LANDING_SETTINGS"]!=="undefined"&&typeof BX.SidePanel!=="undefined"){BX.SidePanel.Instance.open(landingParams["PAGE_URL_LANDING_SETTINGS"],{allowChangeHistory:false,events:{onCloseComplete:()=>{if(top.window["landingSettingsSaved"]===true){top.window["landingSettingsSaved"]=false}}}})}}};BX.Landing.Component.View.AutoPublication=function(e){this.blockId=null;this.landingId=null;this.fullPublication=false;this.pendingPublication=false;this.editorEnabled=false;this.pageIsUnActive=e.pageIsUnActive;this.allowedCommands={"Landing::upBlock":true,"Landing::downBlock":true,"Landing::showBlock":true,"Landing::hideBlock":true,"Landing::markDeletedBlock":true,"Landing::addBlock":true,"Landing::copyBlock":true,"Landing::moveBlock":true,"Block::changeNodeName":true,"Block::updateContent":true,"Landing\\Block::addCard":true,"Landing\\Block::cloneCard":true,"Landing\\Block::removeCard":true,"Landing\\Block::updateNodes":true,"Landing\\Block::updateStyles":true};this.fullPublicationCommands={"Landing::upBlock":true,"Landing::downBlock":true,"Landing::addBlock":true,"Landing::copyBlock":true,"Landing::moveBlock":true,"Landing::markDeletedBlock":true};BX.addCustomEvent("BX.Landing.Editor:enable",BX.delegate(this.enableEditor,this));BX.addCustomEvent("BX.Landing.Editor:disable",BX.delegate(this.disableEditor,this));BX.addCustomEvent("BX.Landing.Backend:action",BX.delegate(this.onAction,this));BX.addCustomEvent("BX.Landing.Backend:batch",BX.delegate(this.onAction,this))};BX.Landing.Component.View.AutoPublication.prototype={enableEditor:function(){this.editorEnabled=true},disableEditor:function(){if(this.pendingPublication){this.processing()}this.editorEnabled=false;this.pendingPublication=false},getStatusArea:function(){var e=BX.Landing.PageObject.getRootWindow();return e.document.querySelector("#landing-popup-publication-btn")},getErrorArea:function(){var e=BX.Landing.PageObject.getRootWindow();return e.document.querySelector("#landing-popup-publication-error-area")},resolveEntityId:function(e,n){if(typeof e[n]!=="undefined"){return parseInt(e[n])}var t=Object.keys(e);for(var i=0,a=t.length;i<a;i++){if(typeof e[t[i]].data!=="undefined"&&typeof e[t[i]].data[n]!=="undefined"){return parseInt(e[t[i]].data[n])}}return null},isActionAllowed:function(e){this.fullPublication=this.fullPublicationCommands[e]===true;return this.allowedCommands[e]===true},onAction:function(e,n){if(this.isActionAllowed(e)){this.blockId=this.resolveEntityId(n,"block");this.landingId=this.resolveEntityId(n,"lid");this.revertStatusMessage();if(this.editorEnabled){this.pendingPublication=true}else{this.processing()}}},actualizeStatusMessage:function(){if(!top.window.autoPublicationEnabled){this.revertStatusMessage()}else{this.updateStatusMessage()}},updateStatusMessage:function(){BX.message({LANDING_PAGE_STATUS_UPDATED:BX.message("LANDING_PAGE_STATUS_PUBLIC"),LANDING_PAGE_STATUS_UPDATED_NOW:BX.message("LANDING_PAGE_STATUS_PUBLIC_NOW")});BX.Landing.UI.Panel.StatusPanel.getInstance().update()},revertStatusMessage:function(){BX.message({LANDING_PAGE_STATUS_UPDATED:BX.message("LANDING_PAGE_STATUS_UPDATED_ORIG"),LANDING_PAGE_STATUS_UPDATED_NOW:BX.message("LANDING_PAGE_STATUS_UPDATED_NOW_ORIG")});BX.Landing.UI.Panel.StatusPanel.getInstance().update()},processing:function(){this.actualizeStatusMessage();if(!top.window.autoPublicationEnabled){this.blockId=null;this.landingId=null;return}if(this.blockId||this.fullPublication){setTimeout(function(){BX.addClass(this.getStatusArea(),"landing-ui-panel-top-pub-btn-loader");const e=this.fullPublication||this.pageIsUnActive?"Landing::publication":"Block::publication";BX.Landing.Backend.getInstance().action(e,{block:this.blockId,lid:this.landingId}).then((e=>{this.pageIsUnActive=false;this.setSuccess()})).catch(function(e){if(e.result&&typeof e.result[0]!=="undefined"){this.setError(e.result[0])}else{this.setError({error:"system_error",error_description:"System error"})}}.bind(this));this.blockId=null;this.landingId=null}.bind(this),0)}},setSuccess:function(){var e=this.getErrorArea();var n=this.getStatusArea();e.removeAttribute("data-error");e.removeAttribute("data-error-description");BX.addClass(n,"landing-ui-panel-top-pub-btn-success");BX.removeClass(n,"landing-ui-panel-top-pub-btn-error");BX.removeClass(n,"landing-ui-panel-top-pub-btn-loader");setTimeout(function(){n.style.backgroundColor="";BX.removeClass(n,"landing-ui-panel-top-pub-btn-success")}.bind(this),1e3)},setError:function(e){var n=this.getErrorArea();var t=this.getStatusArea();BX.removeClass(t,"landing-ui-panel-top-pub-btn-loader");BX.addClass(t,"landing-ui-panel-top-pub-btn-error");n.setAttribute("data-error-description",e.error_description);n.setAttribute("data-error",e.error)}};BX.Landing.Component.View.changeTop=function(e,n){n=n||{};if(typeof n.changeState==="undefined"){n.changeState=true}BX.ajax({url:BX.util.add_url_param(window.location.href,{action:"changeTop"}),method:"POST",data:{param:e,sessid:BX.message("bitrix_sessid"),actionType:"json"},dataType:"json",onsuccess:function(e){BX.Landing.Component.View.instance.closeAllPopupsMenu();BX.Landing.Component.View.instance.setNewOptions(e);BX.Landing.Component.View.instance.buildTop({changeState:n.changeState})}})};BX.Landing.Component.View.MainpagePublication=function(e){this.buttonPublic=e.buttonPublic;this.buttonUnpublic=e.buttonUnpublic;if(this.buttonPublic&&this.buttonUnpublic){BX.bind(this.buttonPublic,"click",this.public.bind(this));BX.bind(this.buttonUnpublic,"click",this.unpublic.bind(this))}};BX.Landing.Component.View.MainpagePublication.prototype={public:function(){BX.addClass(this.buttonPublic,"ui-btn-wait");BX.ajax.runAction("intranet.mainpage.publish").then((()=>{BX.removeClass(this.buttonPublic,"ui-btn-wait");BX.hide(this.buttonPublic);BX.show(this.buttonUnpublic)}));BX.UI.Analytics.sendData({tool:"landing",category:"vibe",event:"publish_page",c_sub_section:"from_editor"})},unpublic:function(){BX.addClass(this.buttonUnpublic,"ui-btn-wait");BX.ajax.runAction("intranet.mainpage.withdraw").then((()=>{BX.removeClass(this.buttonUnpublic,"ui-btn-wait");BX.hide(this.buttonUnpublic);BX.show(this.buttonPublic)}));BX.UI.Analytics.sendData({tool:"landing",category:"vibe",event:"unpublish_page",c_sub_section:"from_editor"})}}})();var landingAlertMessage=function e(n,t,i){if(t===true&&(i==="PUBLIC_SITE_REACHED"||i==="PUBLIC_SITE_REACHED_FREE")){(function(){if(landingSiteType==="STORE"){top.BX.UI.InfoHelper.show("limit_shop_number")}else{top.BX.UI.InfoHelper.show("limit_sites_number")}})()}else if(i==="FREE_DOMAIN_IS_NOT_ALLOWED"){top.BX.UI.InfoHelper.show("limit_free_domen")}else if(i==="EMAIL_NOT_CONFIRMED"){top.BX.UI.InfoHelper.show("limit_sites_confirm_email")}else if(t===true&&typeof BX.Landing.PaymentAlertShow!=="undefined"){BX.Landing.PaymentAlertShow({message:n})}else{var a=BX.Landing.UI.Tool.ActionDialog.getInstance();a.show({content:n,confirm:"OK",contentColor:"grey",type:"alert"})}};
/* End */
;
; /* Start:"a:4:{s:4:"full";s:90:"/bitrix/components/bitrix/landing.selector/templates/.default/script.min.js?17624282235643";s:6:"source";s:71:"/bitrix/components/bitrix/landing.selector/templates/.default/script.js";s:3:"min";s:75:"/bitrix/components/bitrix/landing.selector/templates/.default/script.min.js";s:3:"map";s:75:"/bitrix/components/bitrix/landing.selector/templates/.default/script.map.js";}"*/
this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};(function(e,a,t){"use strict";var l,i,s,r,n,d,b,o;function c(e,a){h(e,a);a.add(e)}function v(e,a,t){h(e,a);a.set(e,t)}function h(e,a){if(a.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function p(e,a,t){if(!a.has(e)){throw new TypeError("attempted to get private field on non-instance")}return t}var u=new WeakMap;var g=new WeakMap;var H=new WeakMap;var F=new WeakMap;var P=new WeakMap;var w=new WeakMap;var f=new WeakMap;var G=new WeakMap;var S=new WeakMap;var k=new WeakMap;var m=new WeakMap;var L=new WeakMap;var T=new WeakMap;var M=new WeakSet;var W=new WeakSet;var E=new WeakSet;var I=new WeakSet;var A=new WeakSet;var B=new WeakSet;var C=function(){function e(a){babelHelpers.classCallCheck(this,e);c(this,B);c(this,A);c(this,I);c(this,E);c(this,W);c(this,M);v(this,u,{writable:true,value:null});v(this,g,{writable:true,value:void 0});v(this,H,{writable:true,value:void 0});v(this,F,{writable:true,value:void 0});v(this,P,{writable:true,value:void 0});v(this,w,{writable:true,value:void 0});v(this,f,{writable:true,value:void 0});v(this,G,{writable:true,value:void 0});v(this,S,{writable:true,value:void 0});v(this,k,{writable:true,value:void 0});v(this,m,{writable:true,value:void 0});v(this,L,{writable:true,value:void 0});v(this,T,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,g,a.node);babelHelpers.classPrivateFieldSet(this,H,a.input);babelHelpers.classPrivateFieldSet(this,F,a.urlLandingAdd||null);babelHelpers.classPrivateFieldSet(this,P,a.urlFolderAdd||null);babelHelpers.classPrivateFieldSet(this,w,a.urlFormAdd||null);babelHelpers.classPrivateFieldSet(this,f,a.siteType);babelHelpers.classPrivateFieldSet(this,G,a.siteId);this.folderId=a.folderId;this.landingId=a.landingId;babelHelpers.classPrivateFieldSet(this,S,a.items||[]);babelHelpers.classPrivateFieldSet(this,k,a.onSelect);babelHelpers.classPrivateFieldSet(this,m,BX("landing-selector"));if(babelHelpers.classPrivateFieldGet(this,g)){t.Event.bind(babelHelpers.classPrivateFieldGet(this,H),"click",p(this,W,D).bind(this));t.Event.bind(babelHelpers.classPrivateFieldGet(this,H),"input",p(this,B,O).bind(this))}}babelHelpers.createClass(e,[{key:"onAddPage",value:function e(){alert(this.landingId)}},{key:"onAddFolder",value:function e(){alert(this.folderId)}}]);return e}();function X(){if(!babelHelpers.classPrivateFieldGet(this,u)){babelHelpers.classPrivateFieldSet(this,u,new a.Dialog({targetNode:babelHelpers.classPrivateFieldGet(this,g),width:565,height:300,enableSearch:false,dropdownMode:true,showAvatars:true,compactView:false,dynamicLoad:true,multiple:false,context:"landing",entities:[{id:"landing",options:{siteType:babelHelpers.classPrivateFieldGet(this,f),siteId:babelHelpers.classPrivateFieldGet(this,G),landingId:this.landingId}}],items:babelHelpers.classPrivateFieldGet(this,S),events:{onHide:p(this,I,_).bind(this),"Item:onSelect":babelHelpers.classPrivateFieldGet(this,k)},footer:[babelHelpers.classPrivateFieldGet(this,F)?t.Tag.render(l||(l=babelHelpers.taggedTemplateLiteral(['<a href="','" class="ui-selector-footer-link ui-selector-footer-link-add">',"</a>"])),babelHelpers.classPrivateFieldGet(this,F),t.Loc.getMessage("LANDING_SELECTOR_ADD_PAGE")):t.Tag.render(i||(i=babelHelpers.taggedTemplateLiteral([""]))),babelHelpers.classPrivateFieldGet(this,F)?t.Tag.render(s||(s=babelHelpers.taggedTemplateLiteral(['<span class="ui-selector-footer-conjunction">',"</span>"])),t.Loc.getMessage("LANDING_SELECTOR_ADD_OR")):t.Tag.render(r||(r=babelHelpers.taggedTemplateLiteral([""]))),babelHelpers.classPrivateFieldGet(this,P)?t.Tag.render(n||(n=babelHelpers.taggedTemplateLiteral(['<a href="','" class="ui-selector-footer-link">',"</a>"])),babelHelpers.classPrivateFieldGet(this,P),t.Loc.getMessage("LANDING_SELECTOR_ADD_FOLDER")):t.Tag.render(d||(d=babelHelpers.taggedTemplateLiteral([""]))),babelHelpers.classPrivateFieldGet(this,w)?t.Tag.render(b||(b=babelHelpers.taggedTemplateLiteral(['<a href="','" class="ui-selector-footer-link ui-selector-footer-link-add">',"</a>"])),babelHelpers.classPrivateFieldGet(this,w),t.Loc.getMessage("LANDING_SELECTOR_ADD_FORM")):t.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral([""])))]}))}return babelHelpers.classPrivateFieldGet(this,u)}function D(){p(this,E,y).call(this)}function y(){p(this,M,X).call(this).show();p(this,A,N).call(this);BX.addClass(babelHelpers.classPrivateFieldGet(this,g),"landing-selector-active")}function _(){var e=this;if(babelHelpers.classPrivateFieldGet(this,T)===true){BX.addClass(babelHelpers.classPrivateFieldGet(this,L),"landing-selector-overlay-hiding");setTimeout((function(){BX.removeClass(babelHelpers.classPrivateFieldGet(e,L),"landing-selector-overlay-hiding");BX.remove(babelHelpers.classPrivateFieldGet(e,L))}),200);babelHelpers.classPrivateFieldSet(this,T,false)}BX.removeClass(babelHelpers.classPrivateFieldGet(this,g),"landing-selector-active")}function N(){if(!babelHelpers.classPrivateFieldGet(this,L)){babelHelpers.classPrivateFieldSet(this,L,BX.create("div",{props:{className:"landing-selector-overlay"}}))}if(babelHelpers.classPrivateFieldGet(this,T)!==true){document.querySelector(".landing-ui-panel.landing-ui-panel-top").appendChild(babelHelpers.classPrivateFieldGet(this,L));babelHelpers.classPrivateFieldSet(this,T,true)}}function O(e){if(babelHelpers.classPrivateFieldGet(this,u)){babelHelpers.classPrivateFieldGet(this,u).show();babelHelpers.classPrivateFieldGet(this,u).search(e.srcElement.value)}}e.Selector=C})(this.BX.Landing.Component=this.BX.Landing.Component||{},BX.UI.EntitySelector,BX);
/* End */
;
; /* Start:"a:4:{s:4:"full";s:99:"/bitrix/components/bitrix/landing.landing_view/templates/.default/es6/script.min.js?176242935764280";s:6:"source";s:79:"/bitrix/components/bitrix/landing.landing_view/templates/.default/es6/script.js";s:3:"min";s:83:"/bitrix/components/bitrix/landing.landing_view/templates/.default/es6/script.min.js";s:3:"map";s:83:"/bitrix/components/bitrix/landing.landing_view/templates/.default/es6/script.map.js";}"*/
this.BX=this.BX||{};this.BX.Landing=this.BX.Landing||{};(function(e,t,i,a,n,l,r,s,o,c,d,u,h){"use strict";var v=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"loadMessages",value:function t(i){e.messages=i}},{key:"getMessage",value:function t(i){return e.messages[i]}}]);return e}();var p={defaultDevice:{tablet:"iphone14pro",mobile:"iphone14pro"},devices:{delimiter1:{code:"delimiter",langCode:"LANDING_PREVIEW_DEVICE_MOBILES"},iphone14pro:{name:"iPhone 14 Pro",code:"iphone14pro",className:"--iphone-14-pro",width:393,height:852},iPhoneXR:{name:"iPhone XR",code:"iPhoneXR",className:"--iphone-xr",width:414,height:896},iPhoneSE:{name:"iPhone SE",code:"iPhoneSE",className:"--iphone-se",width:375,height:667},SamsungGalaxyNote10:{name:"Samsung Galaxy Note10",code:"SamsungGalaxyNote10",className:"--samsung-galaxy-note10",width:412,height:896},SamsungGalaxyS8:{name:"Samsung Galaxy S8+",code:"SamsungGalaxyS8",className:"--samsung-galaxy-s8-plus",width:360,height:740},GooglePixel4:{name:"Google Pixel 4",code:"GooglePixel4",className:"--google-pixel-4",width:353,height:745},delimiter2:{code:"delimiter",langCode:"LANDING_PREVIEW_DEVICE_TABLETS"},iPad:{name:"iPad",code:"iPad",className:"--ipad",width:810,height:1080},iPadMini:{name:"iPad Mini",code:"iPadMini",className:"--ipad-mini",width:744,height:1133},SamsungGalaxyTabS8:{name:"Samsung Galaxy Tab S8",code:"SamsungGalaxyTabS8",className:"--samsung-galaxy-tab-s8",width:800,height:1280}}};var b,f,g;var m=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"getPreview",value:function t(i){if(i.messages){e.messages=i.messages}if(!localStorage.getItem("deviceOrientation")){localStorage.setItem("deviceOrientation","portrait")}var a=function e(){if(localStorage.getItem("deviceOrientation")==="portrait"){localStorage.setItem("deviceOrientation","landscape")}else{localStorage.setItem("deviceOrientation","portrait")}n.Dom.style(r.wrapper,"width","".concat(r.wrapper.offsetHeight,"px"));n.Dom.style(r.wrapper,"height","".concat(r.wrapper.offsetWidth,"px"));n.Dom.style(r.frame,"width","".concat(r.frame.offsetHeight,"px"));n.Dom.style(r.frame,"height","".concat(r.frame.offsetWidth,"px"));r.wrapper.querySelector('[data-role="device-orientation"]').innerHTML=localStorage.getItem("deviceOrientation")};var l=localStorage.getItem("deviceHidden")==="true";var r={wrapper:null,rotate:n.Tag.render(b||(b=babelHelpers.taggedTemplateLiteral(['<div class="landing-device-rotate" onclick="','" data-role="landing-device-rotate"></div>'])),a),frame:n.Tag.render(f||(f=babelHelpers.taggedTemplateLiteral(['<iframe data-role="landing-device-preview-iframe" src="','"></iframe>'])),i.frameUrl)};r.wrapper=n.Tag.render(g||(g=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="landing-device-wrapper','">\n\t\t\t\t<div class="landing-device-name" onclick="','">\n\t\t\t\t\t<span data-role="device-name">Device</span>\n\t\t\t\t\t<span data-role="device-orientation" class="landing-device-orientation">Orientation</span>\n\t\t\t\t</div>\n\t\t\t\t','\n\t\t\t\t<div class="landing-device-preview" data-role="landing-device-preview">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),l?" landing-device-wrapper-hidden":"",i.clickHandler,r.rotate,r.frame);return r.wrapper}},{key:"openDeviceMenu",value:function i(a,n,l){var r="device_selector";var s=t.MenuManager.getMenuById(r);if(s){s.show();return}var o=[];n.forEach((function(i){if(i.code==="delimiter"){o.push(new t.MenuItem({delimiter:true,text:i.langCode?e.messages[i.langCode]:""}));return}o.push(new t.MenuItem({id:i.className,html:String(i.name),onclick:function e(){t.MenuManager.getMenuById(r).close();l(i)}}))}));var c=a.parentNode||document.body;s=t.MenuManager.create({id:r,bindElement:c,className:"landing-ui-block-actions-popup",items:o,offsetTop:0,offsetLeft:40,minWidth:c.offsetWidth,animation:"fading-slide",events:{onPopupShow:function e(){s.getPopupWindow().setMinWidth(c.offsetWidth)}}});s.show()}}]);return e}();var y;function w(e,t){P(e,t);t.add(e)}function k(e,t,i){P(e,t);t.set(e,i)}function P(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function H(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var C=new WeakMap;var F=new WeakMap;var S=new WeakMap;var G=new WeakMap;var T=new WeakMap;var E=new WeakMap;var I=new WeakMap;var L=new WeakMap;var B=new WeakMap;var _=new WeakMap;var M=new WeakSet;var x=new WeakSet;var N=new WeakSet;var O=new WeakSet;var D=new WeakSet;var W=new WeakSet;var A=new WeakSet;var j=new WeakSet;var X=new WeakSet;var z=new WeakSet;var U=new WeakSet;var R=new WeakSet;var V=new WeakSet;var q=new WeakSet;var K=function e(t){babelHelpers.classCallCheck(this,e);w(this,q);w(this,V);w(this,R);w(this,U);w(this,z);w(this,X);w(this,j);w(this,A);w(this,W);w(this,D);w(this,O);w(this,N);w(this,x);w(this,M);k(this,C,{writable:true,value:void 0});k(this,F,{writable:true,value:void 0});k(this,S,{writable:true,value:void 0});k(this,G,{writable:true,value:void 0});k(this,T,{writable:true,value:void 0});k(this,E,{writable:true,value:void 0});k(this,I,{writable:true,value:null});k(this,L,{writable:true,value:false});k(this,B,{writable:true,value:false});k(this,_,{writable:true,value:["Landing::upBlock","Landing::downBlock","Landing::showBlock","Landing::hideBlock","Landing::markDeletedBlock","Landing::addBlock","Landing::copyBlock","Landing::moveBlock","Block::changeNodeName","Block::updateContent","Block::getContent","Landing\\Block::addCard","Landing\\Block::cloneCard","Landing\\Block::removeCard","Landing\\Block::updateNodes","Landing\\Block::updateStyles","Landing\\Block::saveForm"]});this.target=t.target||document.body;babelHelpers.classPrivateFieldSet(this,F,t.frameUrl);babelHelpers.classPrivateFieldSet(this,S,t.editorFrameWrapper);babelHelpers.classPrivateFieldSet(this,C,t);H(this,M,Y).call(this,t);H(this,U,le).call(this,t);H(this,V,se).call(this);H(this,X,ae).call(this,H(this,D,Z).call(this,"mobile"))};function Y(e){var t=this;BX.addCustomEvent("BX.Landing.Main:editorSizeChange",(function(e){H(t,X,ae).call(t,H(t,D,Z).call(t,e))}));window.addEventListener("message",(function(e){var i=e.data||{};if(i.action==="editorenable"){if(!!i.payload.enable){babelHelpers.classPrivateFieldSet(t,L,true)}else{if(babelHelpers.classPrivateFieldGet(t,B)){H(t,N,J).call(t)}babelHelpers.classPrivateFieldSet(t,L,false);babelHelpers.classPrivateFieldSet(t,B,false)}}else if(i.action==="backendaction"){H(t,x,$).call(t,i.payload)}}))}function $(e){if(babelHelpers.classPrivateFieldGet(this,_).includes(e.action)){if(babelHelpers.classPrivateFieldGet(this,L)){babelHelpers.classPrivateFieldSet(this,B,true)}else{var t,i,a,n;var l=null;if((t=e.data)!==null&&t!==void 0&&t.block){var r;l=(r=e.data)===null||r===void 0?void 0:r.block}if((i=e.data)!==null&&i!==void 0&&(a=i.updateNodes)!==null&&a!==void 0&&(n=a.data)!==null&&n!==void 0&&n.block){var s,o,c;l=(s=e.data)===null||s===void 0?void 0:(o=s.updateNodes)===null||o===void 0?void 0:(c=o.data)===null||c===void 0?void 0:c.block}H(this,N,J).call(this,l)}}}function J(e){if(babelHelpers.classPrivateFieldGet(this,T)){var t="editor";var i=Date.now();babelHelpers.classPrivateFieldGet(this,T).location.href=babelHelpers.classPrivateFieldGet(this,F)+"?ts="+i+"&scrollTo="+t+e}}function Q(e){if(babelHelpers.classPrivateFieldGet(this,T)){var t=babelHelpers.classPrivateFieldGet(this,T).document;var i=Math.max(t.body.scrollHeight,t.documentElement.scrollHeight,t.body.offsetHeight,t.documentElement.offsetHeight,t.body.clientHeight,t.documentElement.clientHeight);babelHelpers.classPrivateFieldGet(this,T).scroll(0,i*e/100)}}function Z(e){var t;var i=localStorage.getItem("deviceCode");if(i&&p.devices[i]){return p.devices[i]}i=(t=p.defaultDevice)===null||t===void 0?void 0:t[e];if(!i){return}return p.devices[i]}function ee(){if(!babelHelpers.classPrivateFieldGet(this,E)){v.loadMessages(babelHelpers.classPrivateFieldGet(this,C).messages);babelHelpers.classPrivateFieldSet(this,E,n.Tag.render(y||(y=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-device-loader">\n\t\t\t\t\t<div class="landing-device-loader-icon"></div>\n\t\t\t\t\t<div class="landing-device-loader-text">',"</div>\n\t\t\t\t</div>\n\t\t\t"])),v.getMessage("LANDING_TPL_PREVIEW_LOADING")))}return babelHelpers.classPrivateFieldGet(this,E)}function te(e){if(!e){return}n.Dom.append(H(this,W,ee).call(this),e)}function ie(){var e=this;n.Dom.addClass(H(this,W,ee).call(this),"--hide");n.Event.bind(H(this,W,ee).call(this),"transitionend",(function(){n.Dom.remove(H(e,W,ee).call(e))}))}function ae(e){var t=this;if(!e){return}localStorage.setItem("deviceCode",e.code);if(babelHelpers.classPrivateFieldGet(this,I)){n.Dom.removeClass(babelHelpers.classPrivateFieldGet(this,G),babelHelpers.classPrivateFieldGet(this,I).className);babelHelpers.classPrivateFieldGet(this,G).style.removeProperty("top")}babelHelpers.classPrivateFieldSet(this,I,e);babelHelpers.classPrivateFieldGet(this,G).querySelector('[data-role="device-name"]').innerHTML=e.name;babelHelpers.classPrivateFieldGet(this,G).querySelector('[data-role="device-orientation"]').innerHTML=localStorage.getItem("deviceOrientation");var i=babelHelpers.classPrivateFieldGet(this,G).querySelector('[data-role="landing-device-preview-iframe"]');var a=babelHelpers.classPrivateFieldGet(this,G).querySelector('[data-role="landing-device-preview"]');i.onload=function(){return H(t,j,ie).call(t)};if(i&&a&&babelHelpers.classPrivateFieldGet(this,I).width&&babelHelpers.classPrivateFieldGet(this,I).height){var l=window.innerHeight/(babelHelpers.classPrivateFieldGet(this,I).height+300);var r=parseInt(window.getComputedStyle(a).padding);var s=babelHelpers.classPrivateFieldGet(this,I).width;var o=babelHelpers.classPrivateFieldGet(this,I).height;if(localStorage.getItem("deviceOrientation")==="landscape"){s=babelHelpers.classPrivateFieldGet(this,I).height;o=babelHelpers.classPrivateFieldGet(this,I).width}i.style.setProperty("width","".concat(s,"px"));i.style.setProperty("height","".concat(o,"px"));a.style.setProperty("transform","scale(".concat(l,")"));babelHelpers.classPrivateFieldGet(this,G).style.setProperty("width","".concat((s+r*2)*l,"px"));babelHelpers.classPrivateFieldGet(this,G).style.setProperty("height","".concat((o+r*2)*l,"px"))}n.Dom.addClass(babelHelpers.classPrivateFieldGet(this,G),babelHelpers.classPrivateFieldGet(this,I).className)}function ne(){var e=babelHelpers.classPrivateFieldGet(this,S).querySelector("iframe").contentWindow.document;var t=Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.body.clientHeight,e.documentElement.clientHeight);var i=e.documentElement.scrollTop||e.body.scrollTop;H(this,O,Q).call(this,i/t*100)}function le(e){if(!babelHelpers.classPrivateFieldGet(this,G)){babelHelpers.classPrivateFieldSet(this,G,m.getPreview({frameUrl:e.frameUrl,clickHandler:H(this,R,re).bind(this),messages:e.messages}));n.Dom.hide(babelHelpers.classPrivateFieldGet(this,G));this.target.appendChild(babelHelpers.classPrivateFieldGet(this,G));if(!babelHelpers.classPrivateFieldGet(this,T)){babelHelpers.classPrivateFieldSet(this,T,babelHelpers.classPrivateFieldGet(this,G).querySelector("iframe").contentWindow);var t=babelHelpers.classPrivateFieldGet(this,G).querySelector("iframe").contentWindow.document;n.Dom.removeClass(t.querySelector("html"),"bx-no-touch");n.Dom.addClass(t.querySelector("html"),"bx-touch")}H(this,z,ne).call(this)}}function re(){m.openDeviceMenu(babelHelpers.classPrivateFieldGet(this,G).querySelector('[data-role="device-name"]'),Object.values(p.devices),H(this,X,ae).bind(this))}function se(){n.Dom.show(babelHelpers.classPrivateFieldGet(this,G));H(this,A,te).call(this,babelHelpers.classPrivateFieldGet(this,G))}function oe(e,t){de(e,t);t.add(e)}function ce(e,t,i){de(e,t);t.set(e,i)}function de(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function ue(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var he=new WeakMap;var ve=new WeakSet;var pe=function(){function e(t){babelHelpers.classCallCheck(this,e);oe(this,ve);ce(this,he,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,he,t.iframe);if(!n.Type.isDomNode(babelHelpers.classPrivateFieldGet(this,he))){throw new Error("Missed 'frame' option as iFrame Element.")}}babelHelpers.createClass(e,[{key:"onDesignerBlockClick",value:function e(t){ue(this,ve,be).call(this,"onDesignerBlockClick",{blockId:t})}},{key:"onStyleBlockClick",value:function e(t){ue(this,ve,be).call(this,"onStyleBlockClick",{blockId:t})}},{key:"onEditBlockClick",value:function e(t){ue(this,ve,be).call(this,"onEditBlockClick",{blockId:t})}},{key:"onSortDownBlockClick",value:function e(t){ue(this,ve,be).call(this,"onSortDownBlockClick",{blockId:t})}},{key:"onSortUpBlockClick",value:function e(t){ue(this,ve,be).call(this,"onSortUpBlockClick",{blockId:t})}},{key:"onRemoveBlockClick",value:function e(t){ue(this,ve,be).call(this,"onRemoveBlockClick",{blockId:t})}},{key:"onChangeStateBlockClick",value:function e(t){ue(this,ve,be).call(this,"onChangeStateBlockClick",{blockId:t})}},{key:"onCutBlockClick",value:function e(t){ue(this,ve,be).call(this,"onCutBlockClick",{blockId:t})}},{key:"onCopyBlockClick",value:function e(t){ue(this,ve,be).call(this,"onCopyBlockClick",{blockId:t})}},{key:"onPasteBlockClick",value:function e(t){ue(this,ve,be).call(this,"onPasteBlockClick",{blockId:t})}},{key:"onFeedbackClick",value:function e(t){ue(this,ve,be).call(this,"onFeedbackClick",{blockId:t})}},{key:"onSaveInLibraryClick",value:function e(t){ue(this,ve,be).call(this,"onSaveInLibraryClick",{blockId:t})}},{key:"onHideEditorPanel",value:function e(){ue(this,ve,be).call(this,"onHideEditorPanel")}}]);return e}();function be(e,t){babelHelpers.classPrivateFieldGet(this,he).contentWindow.postMessage({action:e,payload:t},window.location.origin)}var fe,ge,me,ye,we,ke,Pe,He,Ce;var Fe=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"setPendingMenuItemValue",value:function t(i,a,n,l){if(!e.pendingMenuItems[i]){e.pendingMenuItems[i]={}}if(!e.pendingMenuItems[i][a]){e.pendingMenuItems[i][a]={}}e.pendingMenuItems[i][a][n]=l}},{key:"getPendingMenuItemValue",value:function t(i,a,n){if(e.pendingMenuItems[i]&&e.pendingMenuItems[i][a]){return e.pendingMenuItems[i][a][n]||null}return null}},{key:"getDesignerBlockButton",value:function e(t){var i=v.getMessage("LANDING_TPL_EXT_BUTTON_DESIGNER_BLOCK");var a=n.Tag.render(fe||(fe=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<button class="landing-ui-button landing-ui-button-action --separate','" type="button" title="','">\n\t\t\t\t<span class="landing-ui-button-text">',"</span>\n\t\t\t</button>\n\t\t"])),t?"":" landing-ui-disabled",i,i);if(t){n.Event.bind(a,"click",t)}return a}},{key:"getStyleBlockButton",value:function e(t){var i=v.getMessage("LANDING_TPL_EXT_BUTTON_STYLE_BLOCK");var a=v.getMessage("LANDING_TPL_EXT_BUTTON_STYLE_BLOCK_TITLE");var l=n.Tag.render(ge||(ge=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<button class="landing-ui-button landing-ui-button-action --separate','" type="button" title="','">\n\t\t\t\t<span class="landing-ui-button-text">',"</span>\n\t\t\t</button>\n\t\t"])),t?"":" landing-ui-disabled",a,i);if(t){n.Event.bind(l,"click",t)}return l}},{key:"getEditBlockButton",value:function e(t){var i=v.getMessage("LANDING_TPL_EXT_BUTTON_EDIT_BLOCK");var a=v.getMessage("LANDING_TPL_EXT_BUTTON_EDIT_BLOCK_TITLE");var l=n.Tag.render(me||(me=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<button class="landing-ui-button landing-ui-button-action --separate','" type="button" title="','" data-id="content">\n\t\t\t\t<span class="landing-ui-button-text">',"</span>\n\t\t\t</button>\n\t\t"])),t?"":" landing-ui-disabled",a,i);if(t){n.Event.bind(l,"click",t)}return l}},{key:"getLeftContainer",value:function t(i){return n.Tag.render(ye||(ye=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="landing-ui-external-left-container">\n\t\t\t\t<div class="landing-ui-external-left-top-hr"></div>\n\t\t\t\t<div class="landing-ui-external-body">\n\t\t\t\t\t<div class="landing-ui-external-panel">\n\t\t\t\t\t\t',"\n\t\t\t\t\t\t","\n\t\t\t\t\t\t",'\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="landing-ui-external-left-bottom-hr"></div>\n\t\t\t</div>\n\t\t'])),e.getDesignerBlockButton(i.designerBlockClick),e.getStyleBlockButton(i.styleBlockClick),e.getEditBlockButton(i.editBlockClick))}},{key:"getSortDownBlockButton",value:function e(t){var i=v.getMessage("LANDING_TPL_EXT_BUTTON_DOWN_BLOCK");var a=n.Tag.render(we||(we=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<button class="landing-ui-button landing-ui-button-action','" type="button" data-id="down" title="','"><span class="landing-ui-button-text">&nbsp;</span></button>\n\t\t'])),t?"":" landing-ui-disabled",i);if(t){n.Event.bind(a,"click",t)}return a}},{key:"getSortUpBlockButton",value:function e(t){var i=v.getMessage("LANDING_TPL_EXT_BUTTON_UP_BLOCK");var a=n.Tag.render(ke||(ke=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<button class="landing-ui-button landing-ui-button-action','" type="button" data-id="up" title="','"><span class="landing-ui-button-text">&nbsp;</span></button>\n\t\t'])),t?"":" landing-ui-disabled",i);if(t){n.Event.bind(a,"click",t)}return a}},{key:"getBlockAdditionalMenu",value:function e(i){return t.MenuManager.getMenuById("block_actions_"+i)}},{key:"closeBlockAdditionalMenu",value:function t(i){var a=e.getBlockAdditionalMenu(i);if(a){a.close()}}},{key:"changeStateMenuItem",value:function t(i,a){var n=e.getBlockAdditionalMenu(i);var l=v.getMessage(!a?"LANDING_TPL_EXT_BUTTON_ACTIONS_SHOW":"LANDING_TPL_EXT_BUTTON_ACTIONS_HIDE");if(n){BX.Landing.Utils.setTextContent(n.getMenuItem("show_hide").getLayout()["text"],l)}else{e.setPendingMenuItemValue(i,"show_hide","state",a)}}},{key:"changePasteMenuItem",value:function t(i,a){var n=e.getBlockAdditionalMenu(i);if(n){var l=n.getMenuItem("paste");if(l){if(a){l.enable()}else{l.disable()}}}else{e.setPendingMenuItemValue(i,"paste","disabled",!a)}}},{key:"getActionsList",value:function i(a,l){var r=v.getMessage("LANDING_TPL_EXT_BUTTON_ACTIONS_BLOCK");var s=v.getMessage("LANDING_TPL_EXT_BUTTON_ACTIONS_BLOCK_TITLE");var o=n.Tag.render(Pe||(Pe=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<button class="landing-ui-button landing-ui-button-action" type="button" data-id="actions" title="','">\n\t\t\t\t<span class="landing-ui-button-text">',"</span>\n\t\t\t</button>\n\t\t"])),s,r);n.Event.bind(o,"click",(function(i){if(l.onOpenAdditionalMenu){l.onOpenAdditionalMenu(a);i.stopPropagation()}var n=e.getBlockAdditionalMenu(a);if(n){n.show();return}t.MenuManager.create({id:"block_actions_"+a,bindElement:o,className:"landing-ui-block-actions-popup",angle:{position:"top",offset:95},offsetTop:-6,offsetLeft:-26,items:[new t.MenuItem({id:"show_hide",disabled:!l.changeStateClick,text:v.getMessage(l.state||e.getPendingMenuItemValue(a,"show_hide","state")?"LANDING_TPL_EXT_BUTTON_ACTIONS_HIDE":"LANDING_TPL_EXT_BUTTON_ACTIONS_SHOW"),onclick:function e(){l.changeStateClick()}}),new t.MenuItem({id:"cut",disabled:!l.cutClick,text:v.getMessage("LANDING_TPL_EXT_BUTTON_ACTIONS_CUT"),onclick:function e(){l.cutClick()}}),new t.MenuItem({id:"copy",disabled:!l.copyClick,text:v.getMessage("LANDING_TPL_EXT_BUTTON_ACTIONS_COPY"),onclick:function e(){l.copyClick()}}),new t.MenuItem({id:"paste",disabled:!l.pasteClick||e.getPendingMenuItemValue(a,"paste","disabled"),text:v.getMessage("LANDING_TPL_EXT_BUTTON_ACTIONS_PASTE"),onclick:function e(){l.pasteClick()}}),new t.MenuItem({id:"feedback",disabled:!l.feedbackClick,text:v.getMessage("LANDING_TPL_EXT_BUTTON_ACTIONS_FEEDBACK"),onclick:function e(){l.feedbackClick()}}),l.saveInLibrary?new t.MenuItem({delimiter:true}):null,new t.MenuItem({id:"save_in_library",disabled:!l.saveInLibrary,text:v.getMessage("LANDING_TPL_EXT_BUTTON_ACTIONS_SAVE_IN_LIBRARY"),onclick:function e(){l.saveInLibrary()}})]}).show()}));return o}},{key:"getRemoveBlockButton",value:function e(t){var i=v.getMessage("LANDING_TPL_EXT_BUTTON_REMOVE_BLOCK");var a=n.Tag.render(He||(He=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<button class="landing-ui-button landing-ui-button-action','" type="button" data-id="remove" title="','"><span class="landing-ui-button-text">&nbsp;</span></button>\n\t\t'])),t?"":" landing-ui-disabled",i);if(t){n.Event.bind(a,"click",t)}return a}},{key:"getRightContainer",value:function t(i){return n.Tag.render(Ce||(Ce=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="landing-ui-external-right-container">\n\t\t\t\t<div class="landing-ui-external-right-top-hr"></div>\n\t\t\t\t<div class="landing-ui-external-body">\n\t\t\t\t\t<div class="landing-ui-external-panel">\n\t\t\t\t\t\t',"\n\t\t\t\t\t\t","\n\t\t\t\t\t\t","\n\t\t\t\t\t\t",'\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="landing-ui-external-right-bottom-hr"></div>\n\t\t\t</div>\n\t\t'])),e.getSortDownBlockButton(i.sortDownBlockClick),e.getSortUpBlockButton(i.sortUpBlockClick),e.getActionsList(i.blockId,i),e.getRemoveBlockButton(i.removeBlockClick))}}]);return e}();babelHelpers.defineProperty(Fe,"pendingMenuItems",{});function Se(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function Ge(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(i),!0).forEach((function(t){babelHelpers.defineProperty(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Se(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Te(e,t){Ie(e,t);t.add(e)}function Ee(e,t,i){Ie(e,t);t.set(e,i)}function Ie(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function Le(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var Be=new WeakMap;var _e=new WeakMap;var Me=new WeakMap;var xe=new WeakMap;var Ne=new WeakMap;var Oe=new WeakMap;var De=new WeakSet;var We=new WeakSet;var Ae=new WeakSet;var je=new WeakSet;var Xe=new WeakSet;var ze=new WeakSet;var Ue=new WeakSet;var Re=new WeakSet;var Ve=new WeakSet;var qe=new WeakSet;var Ke=function e(t){var i=this;babelHelpers.classCallCheck(this,e);Te(this,qe);Te(this,Ve);Te(this,Re);Te(this,Ue);Te(this,ze);Te(this,Xe);Te(this,je);Te(this,Ae);Te(this,We);Te(this,De);Ee(this,Be,{writable:true,value:void 0});Ee(this,_e,{writable:true,value:void 0});Ee(this,Me,{writable:true,value:void 0});Ee(this,xe,{writable:true,value:void 0});Ee(this,Ne,{writable:true,value:void 0});Ee(this,Oe,{writable:true,value:void 0});t=t||{};babelHelpers.classPrivateFieldSet(this,Me,t.container);babelHelpers.classPrivateFieldSet(this,xe,t.iframeWrapper);if(!n.Type.isDomNode(babelHelpers.classPrivateFieldGet(this,Me))){throw new Error("Missed 'container' option as Dom Node.")}if(!n.Type.isDomNode(babelHelpers.classPrivateFieldGet(this,xe))){throw new Error("Missed 'iframe' option as Dom Node.")}babelHelpers.classPrivateFieldSet(this,_e,new Map);babelHelpers.classPrivateFieldSet(this,Be,new pe({iframe:babelHelpers.classPrivateFieldGet(this,xe).querySelector("iframe")}));v.loadMessages(t.messages);window.addEventListener("message",Le(this,De,Ye).bind(this));babelHelpers.classPrivateFieldGet(this,Me).addEventListener("click",(function(e){babelHelpers.classPrivateFieldGet(i,Be).onHideEditorPanel()}));window.addEventListener("storage",Le(this,We,$e).bind(this))};function Ye(e){var t=e.data||{};if(!t.payload){return}if(t.action==="register"){Le(this,Ae,Je).call(this,t.payload.blocks)}else if(t.action==="showcontrols"){Le(this,Re,it).call(this,t.payload.blockId,t.payload.top,t.payload.height)}else if(t.action==="changestate"){Le(this,ze,et).call(this,t.payload.blockId,t.payload.state)}else if(t.action==="mode"){Le(this,qe,nt).call(this,t.payload)}else if(t.action==="hideall"){Le(this,Ue,tt).call(this)}else if(t.action==="showblockcontrols"){Le(this,Ue,tt).call(this);Le(this,Ve,at).call(this,t.payload.blockId)}}function $e(){var e=babelHelpers.classPrivateFieldGet(this,_e).values();var t=!!window.localStorage.getItem("landingBlockId");for(var i=0,a=babelHelpers.classPrivateFieldGet(this,_e).size;i<a;i++){var n=e.next().value;Fe.changePasteMenuItem(n.id,t);Le(this,Xe,Ze).call(this,n.id,Ge(Ge({},n),{},{permissions:Ge(Ge({},n.permissions),{},{allowPaste:t})}))}}function Je(e){var t=this;e.map((function(e){var i=e.id;e.leftContainer=Fe.getLeftContainer({designerBlockClick:e.permissions.allowDesignBlock?function(){babelHelpers.classPrivateFieldGet(t,Be).onDesignerBlockClick(i)}:null,styleBlockClick:e.permissions.allowModifyStyles?function(){babelHelpers.classPrivateFieldGet(t,Be).onStyleBlockClick(i)}:null,editBlockClick:e.permissions.allowEditContent?function(){babelHelpers.classPrivateFieldGet(t,Be).onEditBlockClick(i)}:null});e.rightContainer=Fe.getRightContainer({blockId:i,state:e.state,sortDownBlockClick:e.permissions.allowSorting?function(){babelHelpers.classPrivateFieldGet(t,Be).onSortDownBlockClick(i);Le(t,Ue,tt).call(t)}:null,sortUpBlockClick:e.permissions.allowSorting?function(){babelHelpers.classPrivateFieldGet(t,Be).onSortUpBlockClick(i);Le(t,Ue,tt).call(t)}:null,removeBlockClick:e.permissions.allowRemove?function(){babelHelpers.classPrivateFieldGet(t,Be).onRemoveBlockClick(i);Le(t,Ue,tt).call(t)}:null,onOpenAdditionalMenu:function e(i){babelHelpers.classPrivateFieldSet(t,Oe,i);setTimeout((function(){babelHelpers.classPrivateFieldGet(t,Be).onHideEditorPanel()}),0)},changeStateClick:e.permissions.allowChangeState?function(){Fe.closeBlockAdditionalMenu(i);babelHelpers.classPrivateFieldGet(t,Be).onChangeStateBlockClick(i);Le(t,Ve,at).call(t,i)}:null,cutClick:e.permissions.allowRemove?function(){babelHelpers.classPrivateFieldGet(t,Be).onCutBlockClick(i);Le(t,Ue,tt).call(t)}:null,copyClick:function e(){Fe.closeBlockAdditionalMenu(i);babelHelpers.classPrivateFieldGet(t,Be).onCopyBlockClick(i);Le(t,Ve,at).call(t,i)},pasteClick:function e(){Fe.closeBlockAdditionalMenu(i);babelHelpers.classPrivateFieldGet(t,Be).onPasteBlockClick(i);Le(t,Ve,at).call(t,i)},feedbackClick:function e(){Fe.closeBlockAdditionalMenu(i);babelHelpers.classPrivateFieldGet(t,Be).onFeedbackClick(i)},saveInLibrary:e.permissions.allowSaveInLibrary?function(){Fe.closeBlockAdditionalMenu(i);babelHelpers.classPrivateFieldGet(t,Be).onSaveInLibraryClick(i)}:null});n.Dom.append(e.leftContainer,babelHelpers.classPrivateFieldGet(t,Me));n.Dom.append(e.rightContainer,babelHelpers.classPrivateFieldGet(t,Me));n.Dom.hide(e.leftContainer);n.Dom.hide(e.rightContainer);babelHelpers.classPrivateFieldGet(t,_e).set(i,e)}))}function Qe(e){return babelHelpers.classPrivateFieldGet(this,_e).get(parseInt(e))}function Ze(e,t){babelHelpers.classPrivateFieldGet(this,_e).set(parseInt(e),t)}function et(e,t){var i=Le(this,je,Qe).call(this,e);if(i){Fe.changeStateMenuItem(e,t);Le(this,Xe,Ze).call(this,e,Ge(Ge({},i),{},{state:t}))}}function tt(){if(babelHelpers.classPrivateFieldGet(this,Ne)){var e=babelHelpers.classPrivateFieldGet(this,_e).get(babelHelpers.classPrivateFieldGet(this,Ne));n.Dom.hide(e.leftContainer);n.Dom.hide(e.rightContainer)}else{var t=babelHelpers.classPrivateFieldGet(this,_e).values();for(var i=0,a=babelHelpers.classPrivateFieldGet(this,_e).size;i<a;i++){var l=t.next().value;n.Dom.hide(l.leftContainer);n.Dom.hide(l.rightContainer)}}if(babelHelpers.classPrivateFieldGet(this,Oe)){Fe.closeBlockAdditionalMenu(babelHelpers.classPrivateFieldGet(this,Oe));babelHelpers.classPrivateFieldSet(this,Oe,null)}}function it(e,t,i){var a=Le(this,je,Qe).call(this,e);if(!a){return}var l=babelHelpers.classPrivateFieldGet(this,xe).getBoundingClientRect();Le(this,Ue,tt).call(this);babelHelpers.classPrivateFieldSet(this,Ne,a.id);babelHelpers.classPrivateFieldGet(this,Be).onHideEditorPanel();t=parseInt(t);if(t<0&&i+t>50){i=i+t;t=0;n.Dom.addClass(a.leftContainer,"hide-top");n.Dom.addClass(a.rightContainer,"hide-top")}else{n.Dom.removeClass(a.leftContainer,"hide-top");n.Dom.removeClass(a.rightContainer,"hide-top")}n.Dom.show(a.leftContainer);n.Dom.show(a.rightContainer);a.leftContainer.style.width=l.left+"px";a.leftContainer.style.top=t+"px";a.leftContainer.style.height=i+"px";a.rightContainer.style.width=l.left+"px";a.rightContainer.style.left=l.left+l.width+"px";a.rightContainer.style.top=t+"px";a.rightContainer.style.height=i+"px"}function at(e){var t=this;var i=Le(this,je,Qe).call(this,e);if(i){babelHelpers.classPrivateFieldSet(this,Ne,null);n.Dom.hide(i.leftContainer);n.Dom.hide(i.rightContainer);setTimeout((function(){babelHelpers.classPrivateFieldSet(t,Ne,i.id);n.Dom.show(i.leftContainer);n.Dom.show(i.rightContainer)}),500)}}function nt(e){if(e.type==="internal"){Le(this,Ue,tt).call(this)}}function lt(e,t){var i=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=rt(e))||t&&e&&typeof e.length==="number"){if(i)e=i;var a=0;var n=function e(){};return{s:n,n:function t(){if(a>=e.length)return{done:true};return{done:false,value:e[a++]}},e:function e(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=true,r=false,s;return{s:function t(){i=i.call(e)},n:function e(){var t=i.next();l=t.done;return t},e:function e(t){r=true;s=t},f:function e(){try{if(!l&&i["return"]!=null)i["return"]()}finally{if(r)throw s}}}}function rt(e,t){if(!e)return;if(typeof e==="string")return st(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor)i=e.constructor.name;if(i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return st(e,t)}function st(e,t){if(t==null||t>e.length)t=e.length;for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function ot(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ot=function t(){return e};var e={},t=Object.prototype,i=t.hasOwnProperty,a=Object.defineProperty||function(e,t,i){e[t]=i.value},n="function"==typeof Symbol?Symbol:{},l=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function o(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function e(t,i,a){return t[i]=a}}function c(e,t,i,n){var l=t&&t.prototype instanceof h?t:h,r=Object.create(l.prototype),s=new F(n||[]);return a(r,"_invoke",{value:k(e,i,s)}),r}function d(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function h(){}function v(){}function p(){}var b={};o(b,l,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(S([])));g&&g!==t&&i.call(g,l)&&(b=g);var m=p.prototype=h.prototype=Object.create(b);function y(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,l,r,s){var o=d(e[a],e,l);if("throw"!==o.type){var c=o.arg,u=c.value;return u&&"object"==babelHelpers["typeof"](u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,r,s)}),(function(e){n("throw",e,r,s)})):t.resolve(u).then((function(e){c.value=e,r(c)}),(function(e){return n("throw",e,r,s)}))}s(o.arg)}var l;a(this,"_invoke",{value:function e(i,a){function r(){return new t((function(e,t){n(i,a,e,t)}))}return l=l?l.then(r,r):r()}})}function k(e,t,i){var a="suspendedStart";return function(n,l){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw l;return G()}for(i.method=n,i.arg=l;;){var r=i.delegate;if(r){var s=P(r,i);if(s){if(s===u)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===a)throw a="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a="executing";var o=d(e,t,i);if("normal"===o.type){if(a=i.done?"completed":"suspendedYield",o.arg===u)continue;return{value:o.arg,done:i.done}}"throw"===o.type&&(a="completed",i.method="throw",i.arg=o.arg)}}}function P(e,t){var i=t.method,a=e.iterator[i];if(undefined===a)return t.delegate=null,"throw"===i&&e.iterator["return"]&&(t.method="return",t.arg=undefined,P(e,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),u;var n=d(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var l=n.arg;return l?l.done?(t[e.resultName]=l.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=undefined),t.delegate=null,u):l:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function H(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(H,this),this.reset(!0)}function S(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(i.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=undefined,t.done=!0,t};return n.next=n}}return{next:G}}function G(){return{value:undefined,done:!0}}return v.prototype=p,a(m,"constructor",{value:p,configurable:!0}),a(p,"constructor",{value:v,configurable:!0}),v.displayName=o(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,o(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},y(w.prototype),o(w.prototype,r,(function(){return this})),e.AsyncIterator=w,e.async=function(t,i,a,n,l){void 0===l&&(l=Promise);var r=new w(c(t,i,a,n),l);return e.isGeneratorFunction(i)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},y(m),o(m,s,"Generator"),o(m,l,(function(){return this})),o(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),i=[];for(var a in t)i.push(a);return i.reverse(),function e(){for(;i.length;){var a=i.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=S,F.prototype={constructor:F,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(C),!t)for(var a in this)"t"===a.charAt(0)&&i.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=undefined)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var a=this;function n(e,i){return s.type="throw",s.arg=t,a.next=e,i&&(a.method="next",a.arg=undefined),!!i}for(var l=this.tryEntries.length-1;l>=0;--l){var r=this.tryEntries[l],s=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var o=i.call(r,"catchLoc"),c=i.call(r,"finallyLoc");if(o&&c){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function e(t,a){for(var n=this.tryEntries.length-1;n>=0;--n){var l=this.tryEntries[n];if(l.tryLoc<=this.prev&&i.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var r=l;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=a&&a<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=a,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(s)},complete:function e(t,i){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&i&&(this.next=i),u},finish:function e(t){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),C(a),u}},catch:function e(t){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var l=n.arg;C(a)}return l}}throw new Error("illegal catch attempt")},delegateYield:function e(t,i,a){return this.delegate={iterator:S(t),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=undefined),u}},e}function ct(e,t){ut(e,t);t.add(e)}function dt(e,t,i){ut(e,t);t.set(e,i)}function ut(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function ht(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var vt=new WeakMap;var pt=new WeakMap;var bt=new WeakMap;var ft=new WeakMap;var gt=new WeakMap;var mt=new WeakMap;var yt=new WeakMap;var wt=new WeakMap;var kt=new WeakMap;var Pt=new WeakMap;var Ht=new WeakMap;var Ct=new WeakMap;var Ft=new WeakMap;var St=new WeakMap;var Gt=new WeakSet;var Tt=new WeakSet;var Et=new WeakSet;var It=function(e){babelHelpers.inherits(t,e);babelHelpers.createClass(t,null,[{key:"create",value:function(){var e=babelHelpers.asyncToGenerator(ot().mark((function e(i){var a;return ot().wrap((function e(n){while(1)switch(n.prev=n.next){case 0:if(!(!i.copilotChat||!i.chatId)){n.next=2;break}return n.abrupt("return",null);case 2:a=new t(i);n.next=5;return a.init();case 5:return n.abrupt("return",a);case 6:case"end":return n.stop()}}),e)})));function i(t){return e.apply(this,arguments)}return i}()}]);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this));ct(babelHelpers.assertThisInitialized(i),Et);ct(babelHelpers.assertThisInitialized(i),Tt);ct(babelHelpers.assertThisInitialized(i),Gt);dt(babelHelpers.assertThisInitialized(i),vt,{writable:true,value:void 0});dt(babelHelpers.assertThisInitialized(i),pt,{writable:true,value:void 0});dt(babelHelpers.assertThisInitialized(i),bt,{writable:true,value:null});dt(babelHelpers.assertThisInitialized(i),ft,{writable:true,value:void 0});dt(babelHelpers.assertThisInitialized(i),gt,{writable:true,value:void 0});dt(babelHelpers.assertThisInitialized(i),mt,{writable:true,value:null});dt(babelHelpers.assertThisInitialized(i),yt,{writable:true,value:false});dt(babelHelpers.assertThisInitialized(i),wt,{writable:true,value:void 0});dt(babelHelpers.assertThisInitialized(i),kt,{writable:true,value:false});dt(babelHelpers.assertThisInitialized(i),Pt,{writable:true,value:void 0});dt(babelHelpers.assertThisInitialized(i),Ht,{writable:true,value:void 0});dt(babelHelpers.assertThisInitialized(i),Ct,{writable:true,value:void 0});dt(babelHelpers.assertThisInitialized(i),Ft,{writable:true,value:void 0});dt(babelHelpers.assertThisInitialized(i),St,{writable:true,value:void 0});i.setEventNamespace("BX.Landing.View.BlockGenerator");babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),wt,new Map);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Pt,null);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Ht,false);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Ft,(new o.Highlight).setBorder(t.highlightColor,t.highlightWidth).setBackground("transparent").setSingleMode());babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),St,(new o.Highlight).setBorder(t.highlightColor,0).setBackground(t.highlightBackground).setSingleMode());babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),vt,e.chatId);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),pt,e.copilotChat);i.onBlockMouseEnter=i.onBlockMouseEnter.bind(babelHelpers.assertThisInitialized(i));i.onBlockClick=i.onBlockClick.bind(babelHelpers.assertThisInitialized(i));i.onChatMessage=i.onChatMessage.bind(babelHelpers.assertThisInitialized(i));i.onEditorLoad=i.onEditorLoad.bind(babelHelpers.assertThisInitialized(i));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Ct,s.PageObject.getEditorWindow());if(!babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),Ct)){console.error("Can not load editor window")}if(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),Ct).document.readyState==="complete"){i.onEditorLoad()}else{n.Event.bind(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),Ct),"load",i.onEditorLoad)}return i}babelHelpers.createClass(t,[{key:"init",value:function(){var e=babelHelpers.asyncToGenerator(ot().mark((function e(){var t;return ot().wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return n.Runtime.loadExtension("landing.copilot.chat");case 2:t=i.sent;babelHelpers.classPrivateFieldSet(this,ft,t.CopilotChatEvents);babelHelpers.classPrivateFieldSet(this,gt,t.CopilotChatMessageType);case 5:case"end":return i.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEditorLoad",value:function e(){var t=this;var i=s.PageObject.getBlocks();i.forEach((function(e){babelHelpers.classPrivateFieldGet(t,wt).set(e.id,{id:e.id,anchor:e.anchor,content:e.content})}));babelHelpers.classPrivateFieldGet(this,Ct).BX.addCustomEvent(babelHelpers.classPrivateFieldGet(this,Ct),"BX.Landing.Block:init",(function(e){t.onBlockAdd(e.blockId,e.block.id,e.content)}));if(babelHelpers.classPrivateFieldGet(this,kt)){ht(this,Tt,Bt).call(this)}}},{key:"onBlockAdd",value:function e(t,i,a){babelHelpers.classPrivateFieldGet(this,wt).set(t,{id:t,anchor:i,content:a});if(babelHelpers.classPrivateFieldGet(this,kt)){ht(this,Tt,Bt).call(this)}}},{key:"onBlockClick",value:function e(t){var i=this;var a=t.currentTarget;var l=null;var r=lt(babelHelpers.classPrivateFieldGet(this,wt).values()),s;try{for(r.s();!(s=r.n()).done;){var o=s.value;if(a===o.content){l=o}}}catch(e){r.e(e)}finally{r.f()}var c=babelHelpers.classPrivateFieldGet(this,vt);if(l===null){return}if(babelHelpers.classPrivateFieldGet(this,Pt)!==null&&babelHelpers.classPrivateFieldGet(this,Pt).id===l.id){return}babelHelpers.classPrivateFieldSet(this,Pt,l);n.ajax.runAction("landing.api.copilot.checkBlockGeneratable",{data:{blockId:l.id,chatId:c}}).then((function(e){if(e.data){babelHelpers.classPrivateFieldSet(i,Ht,true);babelHelpers.classPrivateFieldGet(i,St).show(babelHelpers.classPrivateFieldGet(i,Pt).content)}else{babelHelpers.classPrivateFieldSet(i,Ht,false);babelHelpers.classPrivateFieldGet(i,St).hide()}}))["catch"]((function(){babelHelpers.classPrivateFieldSet(i,Ht,false);babelHelpers.classPrivateFieldGet(i,St).hide()}))}},{key:"onChatMessage",value:function e(t){var i,a=this;var l=(i=t.getData())===null||i===void 0?void 0:i.message;if(l&&(l.authorId||0)>0&&l.type===babelHelpers.classPrivateFieldGet(this,gt).DEFAULT){if(babelHelpers.classPrivateFieldGet(this,Pt)===null){n.ajax.runAction("landing.api.copilot.sendBlockGenerationNeedSelectMessage",{data:{siteId:d.Env.getInstance().getSiteId()}});return}if(!babelHelpers.classPrivateFieldGet(this,Ht)){n.ajax.runAction("landing.api.copilot.sendBlockGenerationWrongSelectMessage",{data:{siteId:d.Env.getInstance().getSiteId()}});return}var r=Promise.resolve();if(!babelHelpers.classPrivateFieldGet(this,bt)){var o=s.PageObject.getEditorWindow();r=o.BX.Runtime.loadExtension("landing.animation.copilot").then((function(e){babelHelpers.classPrivateFieldSet(a,bt,new e.Copilot);babelHelpers.classPrivateFieldGet(a,bt).subscribe("onBlockFinish",a.onBlockAnimateFinish.bind(a));ht(a,Gt,Lt).call(a)}))}r.then((function(){return n.ajax.runAction("landing.api.copilot.executeBlockGeneration",{data:{siteId:d.Env.getInstance().getSiteId(),blockId:babelHelpers.classPrivateFieldGet(a,Pt).id,wishes:l.content}})})).then((function(e){if(e.status==="success"){babelHelpers.classPrivateFieldSet(a,mt,e.data);babelHelpers.classPrivateFieldGet(a,bt).setBlocksData([{id:babelHelpers.classPrivateFieldGet(a,Pt).id,anchor:babelHelpers.classPrivateFieldGet(a,Pt).anchor,element:babelHelpers.classPrivateFieldGet(a,Pt).content,images:[]}]).disableEditor().showLoader();a.onBlockGenerationStart()}}))["catch"]((function(e){console.error("Error while execute block generation",e)}))}}},{key:"onBlockGenerationStart",value:function e(){var t=this;babelHelpers.classPrivateFieldSet(this,yt,true);setTimeout((function(){if(babelHelpers.classPrivateFieldGet(t,yt)){t.emit("onGenerationStart")}}),3e3)}},{key:"onBlockAnimateFinish",value:function e(){var t=this;babelHelpers.classPrivateFieldSet(this,yt,false);babelHelpers.classPrivateFieldSet(this,Pt,null);babelHelpers.classPrivateFieldGet(this,St).hide();setTimeout((function(){t.emit("onGenerationFinish")}),3e3)}},{key:"setSelectMode",value:function e(){var t=h.StylePanel.getInstance();if(t.isShown()){t.hide()}if(babelHelpers.classPrivateFieldGet(this,kt)){return}babelHelpers.classPrivateFieldSet(this,kt,true);ht(this,Tt,Bt).call(this);if(babelHelpers.classPrivateFieldGet(this,pt)&&babelHelpers.classPrivateFieldGet(this,ft)&&babelHelpers.classPrivateFieldGet(this,gt)){babelHelpers.classPrivateFieldGet(this,pt).subscribe(babelHelpers.classPrivateFieldGet(this,ft).NEW_MESSAGE,this.onChatMessage)}this.disableEditor()}},{key:"disableEditor",value:function e(){n.Dom.addClass(babelHelpers.classPrivateFieldGet(this,Ct).document.body,t.selectModeClass)}},{key:"unsetSelectMode",value:function e(){if(!babelHelpers.classPrivateFieldGet(this,kt)){return}babelHelpers.classPrivateFieldSet(this,kt,false);ht(this,Et,_t).call(this);babelHelpers.classPrivateFieldGet(this,Ft).hide();babelHelpers.classPrivateFieldGet(this,St).hide();if(babelHelpers.classPrivateFieldGet(this,pt)&&babelHelpers.classPrivateFieldGet(this,ft)){babelHelpers.classPrivateFieldGet(this,pt).unsubscribe(babelHelpers.classPrivateFieldGet(this,ft).NEW_MESSAGE,this.onChatMessage)}this.enableEditor()}},{key:"enableEditor",value:function e(){n.Dom.removeClass(babelHelpers.classPrivateFieldGet(this,Ct).document.body,t.selectModeClass)}},{key:"onBlockMouseEnter",value:function e(t){babelHelpers.classPrivateFieldGet(this,Ft).show(t.currentTarget)}}]);return t}(l.EventEmitter);function Lt(){var e=this;r.PULL.subscribe({type:r.PullClient.SubscriptionType.Server,moduleId:"landing",callback:function t(i){if(!babelHelpers.classPrivateFieldGet(e,yt)){return}if(i.params.generationId!==undefined&&babelHelpers.classPrivateFieldGet(e,mt)!==null&&i.params.generationId!==babelHelpers.classPrivateFieldGet(e,mt)){return}var a=i.command;if(a==="LandingCopilotGeneration:onGenerationFinish"){u.History.getInstance().push()}if(a==="LandingCopilotGeneration:onGenerationError"){babelHelpers.classPrivateFieldGet(e,bt).stop();babelHelpers.classPrivateFieldGet(e,bt).hideLoader();babelHelpers.classPrivateFieldGet(e,bt).enableEditor();e.onBlockAnimateFinish()}}})}function Bt(){var e=lt(babelHelpers.classPrivateFieldGet(this,wt).values()),t;try{for(e.s();!(t=e.n()).done;){var i=t.value;var a=i.content;n.Event.bind(a,"mouseenter",this.onBlockMouseEnter);n.Event.bind(a,"click",this.onBlockClick)}}catch(t){e.e(t)}finally{e.f()}}function _t(){var e=lt(babelHelpers.classPrivateFieldGet(this,wt).values()),t;try{for(e.s();!(t=e.n()).done;){var i=t.value;var a=i.content;n.Event.unbind(a,"mouseenter",this.onBlockMouseEnter);n.Event.unbind(a,"click",this.onBlockClick)}}catch(t){e.e(t)}finally{e.f()}}babelHelpers.defineProperty(It,"selectModeClass","landing-copilot-generation");babelHelpers.defineProperty(It,"highlightColor","#8e52ec");babelHelpers.defineProperty(It,"highlightWidth",4);babelHelpers.defineProperty(It,"highlightBackground","rgba(142, 82, 236, 0.4)");var Mt,xt,Nt,Ot,Dt,Wt,At,jt;function Xt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Xt=function t(){return e};var e={},t=Object.prototype,i=t.hasOwnProperty,a=Object.defineProperty||function(e,t,i){e[t]=i.value},n="function"==typeof Symbol?Symbol:{},l=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function o(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function e(t,i,a){return t[i]=a}}function c(e,t,i,n){var l=t&&t.prototype instanceof h?t:h,r=Object.create(l.prototype),s=new F(n||[]);return a(r,"_invoke",{value:k(e,i,s)}),r}function d(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function h(){}function v(){}function p(){}var b={};o(b,l,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(S([])));g&&g!==t&&i.call(g,l)&&(b=g);var m=p.prototype=h.prototype=Object.create(b);function y(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,l,r,s){var o=d(e[a],e,l);if("throw"!==o.type){var c=o.arg,u=c.value;return u&&"object"==babelHelpers["typeof"](u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,r,s)}),(function(e){n("throw",e,r,s)})):t.resolve(u).then((function(e){c.value=e,r(c)}),(function(e){return n("throw",e,r,s)}))}s(o.arg)}var l;a(this,"_invoke",{value:function e(i,a){function r(){return new t((function(e,t){n(i,a,e,t)}))}return l=l?l.then(r,r):r()}})}function k(e,t,i){var a="suspendedStart";return function(n,l){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw l;return G()}for(i.method=n,i.arg=l;;){var r=i.delegate;if(r){var s=P(r,i);if(s){if(s===u)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===a)throw a="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a="executing";var o=d(e,t,i);if("normal"===o.type){if(a=i.done?"completed":"suspendedYield",o.arg===u)continue;return{value:o.arg,done:i.done}}"throw"===o.type&&(a="completed",i.method="throw",i.arg=o.arg)}}}function P(e,t){var i=t.method,a=e.iterator[i];if(undefined===a)return t.delegate=null,"throw"===i&&e.iterator["return"]&&(t.method="return",t.arg=undefined,P(e,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),u;var n=d(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var l=n.arg;return l?l.done?(t[e.resultName]=l.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=undefined),t.delegate=null,u):l:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function H(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(H,this),this.reset(!0)}function S(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(i.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=undefined,t.done=!0,t};return n.next=n}}return{next:G}}function G(){return{value:undefined,done:!0}}return v.prototype=p,a(m,"constructor",{value:p,configurable:!0}),a(p,"constructor",{value:v,configurable:!0}),v.displayName=o(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,o(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},y(w.prototype),o(w.prototype,r,(function(){return this})),e.AsyncIterator=w,e.async=function(t,i,a,n,l){void 0===l&&(l=Promise);var r=new w(c(t,i,a,n),l);return e.isGeneratorFunction(i)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},y(m),o(m,s,"Generator"),o(m,l,(function(){return this})),o(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),i=[];for(var a in t)i.push(a);return i.reverse(),function e(){for(;i.length;){var a=i.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=S,F.prototype={constructor:F,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(C),!t)for(var a in this)"t"===a.charAt(0)&&i.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=undefined)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var a=this;function n(e,i){return s.type="throw",s.arg=t,a.next=e,i&&(a.method="next",a.arg=undefined),!!i}for(var l=this.tryEntries.length-1;l>=0;--l){var r=this.tryEntries[l],s=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var o=i.call(r,"catchLoc"),c=i.call(r,"finallyLoc");if(o&&c){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function e(t,a){for(var n=this.tryEntries.length-1;n>=0;--n){var l=this.tryEntries[n];if(l.tryLoc<=this.prev&&i.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var r=l;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=a&&a<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=a,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(s)},complete:function e(t,i){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&i&&(this.next=i),u},finish:function e(t){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),C(a),u}},catch:function e(t){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var l=n.arg;C(a)}return l}}throw new Error("illegal catch attempt")},delegateYield:function e(t,i,a){return this.delegate={iterator:S(t),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=undefined),u}},e}function zt(e,t){Rt(e,t);t.add(e)}function Ut(e,t,i){Rt(e,t);t.set(e,i)}function Rt(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function Vt(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var qt=new WeakMap;var Kt=new WeakMap;var Yt=new WeakMap;var $t=new WeakMap;var Jt=new WeakMap;var Qt=new WeakSet;var Zt=function(){function e(t){babelHelpers.classCallCheck(this,e);zt(this,Qt);Ut(this,qt,{writable:true,value:void 0});Ut(this,Kt,{writable:true,value:void 0});Ut(this,Yt,{writable:true,value:void 0});Ut(this,$t,{writable:true,value:void 0});Ut(this,Jt,{writable:true,value:void 0});this.layout={container:null,pulse:null,close:null,switcherPreview:null,switcherChat:null,chat:null,preview:null};this.switchers=[];babelHelpers.classPrivateFieldSet(this,Kt,t.copilotChatOptions);babelHelpers.classPrivateFieldSet(this,$t,t.siteGenerationId);babelHelpers.classPrivateFieldSet(this,Jt,new i.Metrika(true,"ai"));this.init()}babelHelpers.createClass(e,[{key:"getSwitcherChat",value:function e(){var t=this;if(!this.layout.switcherChat){this.layout.switcherChat=n.Tag.render(Mt||(Mt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-slide-panel__navigation-item --chat">\n\t\t\t\t\t<div class="ui-icon-set --copilot-ai"></div>\n\t\t\t\t</div>\n\t\t\t'])));this.switchers.push(this.layout.switcherChat);n.Event.bind(this.layout.switcherChat,"click",(function(){t.showChat();t.hidePreview();t.adjustSwitcher(t.layout.switcherChat)}))}return this.layout.switcherChat}},{key:"getSwitcherPreview",value:function e(){var t=this;if(!this.layout.switcherPreview){this.layout.switcherPreview=n.Tag.render(xt||(xt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-slide-panel__navigation-item --preview">\n\t\t\t\t\t<div class="ui-icon-set --mobile-2"></div>\n\t\t\t\t</div>\n\t\t\t'])));this.switchers.push(this.layout.switcherPreview);n.Event.bind(this.layout.switcherPreview,"click",(function(){t.showPreview();t.hideChat();t.adjustSwitcher(t.layout.switcherPreview)}))}return this.layout.switcherPreview}},{key:"showChat",value:function(){var e=babelHelpers.asyncToGenerator(Xt().mark((function e(){var t=this;var i,a,l;return Xt().wrap((function e(r){while(1)switch(r.prev=r.next){case 0:i=null;if(!babelHelpers.classPrivateFieldGet(this,Kt).isCopilotFeatureEnabled){i=babelHelpers.classPrivateFieldGet(this,Kt).copilotFeatureEnabledSlider}else if(!babelHelpers.classPrivateFieldGet(this,Kt).isCopilotActive){i=babelHelpers.classPrivateFieldGet(this,Kt).copilotUnactiveSlider}if(!i){r.next=5;break}BX.UI.InfoHelper.show(i);return r.abrupt("return");case 5:r.prev=5;if(babelHelpers.classPrivateFieldGet(this,qt)){r.next=14;break}r.t0=babelHelpers;r.t1=this;r.t2=qt;r.next=12;return Vt(this,Qt,ei).call(this);case 12:r.t3=r.sent;r.t0.classPrivateFieldSet.call(r.t0,r.t1,r.t2,r.t3);case 14:if(!(!babelHelpers.classPrivateFieldGet(this,Yt)&&babelHelpers.classPrivateFieldGet(this,qt))){r.next=23;break}r.t4=babelHelpers;r.t5=this;r.t6=Yt;r.next=20;return It.create({chatId:babelHelpers.classPrivateFieldGet(this,Kt).chatId||null,copilotChat:babelHelpers.classPrivateFieldGet(this,qt)});case 20:r.t7=r.sent;r.t4.classPrivateFieldSet.call(r.t4,r.t5,r.t6,r.t7);if(babelHelpers.classPrivateFieldGet(this,Yt)){babelHelpers.classPrivateFieldGet(this,Yt).subscribe("onGenerationStart",(function(){t.hide()}));babelHelpers.classPrivateFieldGet(this,Yt).subscribe("onGenerationFinish",(function(){t.show();t.showChat();t.adjustSwitcher(t.layout.switcherChat)}))}case 23:if(babelHelpers.classPrivateFieldGet(this,qt).isShown()===false){babelHelpers.classPrivateFieldGet(this,qt).show();l=babelHelpers.classPrivateFieldGet(this,$t)?"ai":"manual";babelHelpers.classPrivateFieldGet(this,Jt).sendData({category:"block_edition",event:"open",c_section:"site_editor",p3:["siteType",l]})}(a=babelHelpers.classPrivateFieldGet(this,Yt))===null||a===void 0?void 0:a.setSelectMode();n.Dom.addClass(this.getChatContainer(),"--show");r.next=31;break;case 28:r.prev=28;r.t8=r["catch"](5);console.error(r.t8);case 31:case"end":return r.stop()}}),e,this,[[5,28]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"hideChat",value:function e(){var t,i;(t=babelHelpers.classPrivateFieldGet(this,qt))===null||t===void 0?void 0:t.hide();(i=babelHelpers.classPrivateFieldGet(this,Yt))===null||i===void 0?void 0:i.unsetSelectMode();n.Dom.removeClass(this.getChatContainer(),"--show")}},{key:"showPreview",value:function e(){n.Dom.addClass(this.getPreviewContainer(),"--show")}},{key:"hidePreview",value:function e(){n.Dom.removeClass(this.getPreviewContainer(),"--show")}},{key:"getClose",value:function e(){var t=this;if(!this.layout.close){this.layout.close=n.Tag.render(Nt||(Nt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-slide-panel__navigation-item --close">\n\t\t\t\t\t<div class="ui-icon-set --cross-45"></div>\n\t\t\t\t</div>\n\t\t\t'])));n.Event.bind(this.layout.close,"click",(function(){return t.hide()}))}return this.layout.close}},{key:"getPulse",value:function e(){var t=this;if(!this.layout.pulse){if(babelHelpers.classPrivateFieldGet(this,Kt).isCopilotFeatureAvailable){this.layout.pulse=n.Tag.render(Ot||(Ot=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="landing-slide-panel__navigation-item --pulse --animate">\n\t\t\t\t\t\t<div class="ui-icon-set --copilot-ai"></div>\n\t\t\t\t\t\t<div class="ui-icon-set --mobile-2"></div>\n\t\t\t\t\t</div>\n\t\t\t\t'])))}else{this.layout.pulse=n.Tag.render(Dt||(Dt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t\t<div class="landing-slide-panel__navigation-item --pulse">\n\t\t\t\t\t\t<div class="ui-icon-set --mobile-2"></div>\n\t\t\t\t\t</div>\n\t\t\t\t'])))}n.Event.bind(this.layout.pulse,"click",(function(){return t.show()}))}return this.layout.pulse}},{key:"getChatContainer",value:function e(){if(!this.layout.chat){this.layout.chat=n.Tag.render(Wt||(Wt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-slide-panel__container-item --chat"></div>\n\t\t\t'])))}return this.layout.chat}},{key:"getPreviewContainer",value:function e(){if(!this.layout.preview){this.layout.preview=n.Tag.render(At||(At=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-slide-panel__container-item --preview"></div>\n\t\t\t'])))}return this.layout.preview}},{key:"getContainer",value:function e(){if(!this.layout.container){this.layout.container=n.Tag.render(jt||(jt=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div class="landing-slide-panel">\n\t\t\t\t\t<div class="landing-slide-panel-inner">\t\t\t\t\t\n\t\t\t\t\t\t<div class="landing-slide-panel__container">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t",'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="landing-slide-panel__navigation">\n\t\t\t\t\t\t \t',"\n\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t","\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t","\n\t\t\t\t</div>\n\t\t\t"])),this.getChatContainer(),this.getPreviewContainer(),babelHelpers.classPrivateFieldGet(this,Kt).isCopilotFeatureAvailable?this.getSwitcherChat():"",this.getSwitcherPreview(),this.getClose(),this.getPulse())}return this.layout.container}},{key:"adjustSwitcher",value:function e(t){this.switchers.forEach((function(e){return n.Dom.removeClass(e,"--active")}));if(n.Type.isDomNode(t)){n.Dom.addClass(t,"--active")}}},{key:"show",value:function e(){n.Dom.addClass(this.getContainer(),"--open")}},{key:"hide",value:function e(){n.Dom.removeClass(this.getContainer(),"--open");this.hideChat();this.hidePreview();this.adjustSwitcher()}},{key:"init",value:function e(){n.Dom.append(this.getContainer(),document.body)}}]);return e}();function ei(){return ti.apply(this,arguments)}function ti(){ti=babelHelpers.asyncToGenerator(Xt().mark((function e(){var t,i,a,l,r,s,o=this;var c,d,u;return Xt().wrap((function e(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return n.Runtime.loadExtension("landing.copilot.chat");case 2:c=h.sent;d=c.Chat;this.copilotChatEvents=c.CopilotChatEvents;this.copilotChatMessageType=c.CopilotChatMessageType;h.next=8;return d.getCopilotChatInstance({entityId:(t=babelHelpers.classPrivateFieldGet(this,Kt))===null||t===void 0?void 0:t.entityId,chatId:(i=babelHelpers.classPrivateFieldGet(this,Kt))===null||i===void 0?void 0:i.chatId,scenario:"site_with_ai_change_block",showChatButtonElement:(a=this.layout.switcherChat)!==null&&a!==void 0?a:null,isSiteEditChat:((l=babelHelpers.classPrivateFieldGet(this,Kt))===null||l===void 0?void 0:l.isSiteEditChat)===true});case 8:u=h.sent;if(!((r=babelHelpers.classPrivateFieldGet(this,Kt))!==null&&r!==void 0&&r.chatId)&&(s=babelHelpers.classPrivateFieldGet(this,Kt))!==null&&s!==void 0&&s.onChatCreate){u.subscribe(this.copilotChatEvents.INIT_CHAT,(function(e){babelHelpers.classPrivateFieldGet(o,Kt).onChatCreate(e.getData());babelHelpers.classPrivateFieldGet(o,Kt).chatId=e.getData().chatId}))}return h.abrupt("return",u);case 11:case"end":return h.stop()}}),e,this)})));return ti.apply(this,arguments)}e.Device=K;e.ExternalControls=Ke;e.SlidePanel=Zt})(this.BX.Landing.View=this.BX.Landing.View||{},BX.Main,BX.Landing,BX,BX,BX.Event,BX,BX.Landing,BX.Landing.UI,BX.Landing.Animation,BX.Landing,BX.Landing,BX.Landing.UI.Panel);
/* End */
;; /* /bitrix/components/bitrix/landing.landing_view/templates/.default/script.min.js?176242927933369*/
; /* /bitrix/components/bitrix/landing.selector/templates/.default/script.min.js?17624282235643*/
; /* /bitrix/components/bitrix/landing.landing_view/templates/.default/es6/script.min.js?176242935764280*/

//# sourceMappingURL=page_bb84f60366e46f5cb7ada9dda68c279f.map.js